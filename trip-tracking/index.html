<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-83017101-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Documentation | Radar" href="/documentation/opensearch.xml">
<script src="/documentation/js/fullstory.js" async></script><title data-react-helmet="true">Documentation - Trips | Radar</title><meta data-react-helmet="true" property="og:url" content="https://radar.com/documentation/trip-tracking"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" name="description" content="Location data infrastructure | Geofencing SDK and API"><meta data-react-helmet="true" name="fb:app_id" content="1026503440803301"><meta data-react-helmet="true" name="og:site_name" content="Radar"><meta data-react-helmet="true" name="og:type" content="website"><meta data-react-helmet="true" name="og:description" content="Location data infrastructure | Geofencing SDK and API"><meta data-react-helmet="true" name="og:image" content="https://radar.com/static/image/logo-social.png"><meta data-react-helmet="true" name="og:image:url" content="https://radar.com/static/image/logo-social.png"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="twitter:site" content="@radarlabs"><meta data-react-helmet="true" name="twitter:image" content="https://radar.com/static/image/logo.png"><meta data-react-helmet="true" name="twitter:description" content="Location data infrastructure | Geofencing SDK and API"><meta data-react-helmet="true" property="og:title" content="Trips"><meta data-react-helmet="true" property="twitter:title" content="Trips"><link data-react-helmet="true" rel="shortcut icon" href="/documentation/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://radar.com/documentation/trip-tracking"><link data-react-helmet="true" rel="alternate" href="https://radar.com/documentation/trip-tracking" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://radar.com/documentation/trip-tracking" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://HNJN02FL1I-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/documentation/assets/css/styles.c9e3838c.css">
<link rel="preload" href="/documentation/assets/js/runtime~main.a77c3195.js" as="script">
<link rel="preload" href="/documentation/assets/js/main.9f2cc935.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/documentation/"><img src="/documentation/img/logo.svg" alt="Radar" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/documentation/img/logo.svg" alt="Radar" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="navbar__items navbar__items--right"><a href="https://radar.com/pricing" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Pricing</a><a href="https://radar.com/contact" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Contact Sales</a><a href="https://radar.com/login" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Dashboard</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_2Fju" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_3jCp fs-unmask"><nav class="menu thin-scrollbar menu_1DcY menuWithAnnouncementBar_3IKd"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/documentation/">Overview</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Geofencing Platform</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/geofencing/overview">Overview</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/geofences">Geofences</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/documentation/trip-tracking">Trips</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/places">Places</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/regions">Regions</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/beacons">Beacons</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/fraud">Fraud</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/campaigns">Campaigns</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Integrations</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/geofencing/testing">Testing</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Maps Platform</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">SDK Reference</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/documentation/api">API Reference</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorials</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/documentation/waypoint">Waypoint</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/documentation/faqs">FAQs</a></li><li class="menuFooter_2WBS"><a class="menuHomeButton_19K4" href="https://radar.com">Back to radar.com</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row fs-unmask"><div class="col docItemCol_2rXS"><div class="docItemContainer_1EXp"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_Ftrd"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Trips</h1></header><p>With Trips, you can track trips and calculate live ETAs from an origin to a destination. Use Trips for use cases like pickup or delivery tracking.</p><img class="hero-image--small" src="https://images.ctfassets.net/f2vbu16fzuly/3mCbGy60EiCQn4fJw6HJe6/8446774f578a05630fa6ca5f196cdff7/trips_event.svg"><p>Trips provides the following user context:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W json"><pre tabindex="0" class="prism-code language-json codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;trip&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;5f3e50491c2b7d005c81f5d9&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;live&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;status&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;started&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;externalId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;299&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;metadata&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;Customer Name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Jacob Pena&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;Car Model&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Green Honda Civic&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;mode&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;car&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;destinationGeofenceTag&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;store&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;destinationGeofenceExternalId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;123&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;destinationLocation&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;coordinates&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token number" style="color:#36acaa">-105.06119826017914</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token number" style="color:#36acaa">39.7793665</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Point&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;eta&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;duration&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// minutes</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;distance&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1331</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// meters</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;createdAt&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2020-08-20T10:27:55.830Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;updatedAt&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2020-08-20T10:30:55.837Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;endedAt&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2020-08-20T10:30:55.837Z&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div><p>Trips also provides the following events:</p><ul><li><code>user.started_trip</code></li><li><code>user.updated_trip</code></li><li><code>user.approaching_trip_destination</code></li><li><code>user.arrived_at_trip_destination</code></li><li><code>user.stopped_trip</code></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="quickstart"></a>Quickstart<a class="hash-link" href="#quickstart" title="Direct link to heading">#</a></h2><p>First, <a href="https://radar.com/signup" target="_blank" rel="noopener noreferrer">sign up</a> for Radar and get an API key.</p><p>Then, <a href="/documentation/geofences#create-a-geofence">create a destination geofence</a>.</p><p>From there, <a href="/documentation/sdk">integrate the SDK</a> and call <code>Radar.startTrip()</code>. Radar will generate trip events with ETAs to the destination geofence.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="starting-trips"></a>Starting trips<a class="hash-link" href="#starting-trips" title="Direct link to heading">#</a></h2><p>When it&#x27;s time to start a trip (e.g., when a user taps &quot;I&#x27;m on my way&quot; for a pickup, or when a delivery starts), start a trip with trip options (including an external ID for the trip, a destination geofence, a travel mode, and any custom metadata) and tracking options to be used during the trip (usually <code>RadarTrackingOptions.CONTINUOUS</code>).</p><p>As the trip progresses, the status will update from <code>started</code> to <code>approaching</code> (based on the <em>Approaching threshold</em> on the <a href="https://radar.com/dashboard/settings" target="_blank" rel="noopener noreferrer">Settings page</a>), then <code>arrived</code> (on destination geofence entry).</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Swift</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Objective-C</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Kotlin</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W swift"><pre tabindex="0" class="prism-code language-swift codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">let metadata = [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;Customer Name&quot;: &quot;Jacob Pena&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;Car Model&quot;: &quot;Green Honda Civic&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">let tripOptions = RadarTripOptions(externalId: &quot;299&quot;, destinationGeofenceTag: &quot;store&quot;, destinationGeofenceExternalId: &quot;123&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">tripOptions.mode = .car</span></span><span class="token-line" style="color:#393A34"><span class="token plain">tripOptions.metadata = metadata</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.startTrip(options: tripOptions, trackingOptions: .presetContinuous) { (status: RadarStatus, trip: RadarTrip?, events: [RadarEvent]?) in</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  if status == .success {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // handle error</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W objc"><pre tabindex="0" class="prism-code language-objc codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">RadarTripOptions </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">tripOptions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">RadarTripOptions new</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">tripOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">externalId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">@&quot;299&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">tripOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">destinationGeofenceTag </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">@&quot;store&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">tripOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">destinationGeofenceExternalId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">@&quot;123&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">tripOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metadata </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">@</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">@&quot;Customer Name&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">@&quot;Jacob Pena&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">@&quot;Car Model&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">@&quot;Green Honda Civic&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Radar startTripWithOptions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">tripOptions trackingOptions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">RadarTrackingOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">presetContinuous</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          completionHandler</span><span class="token punctuation" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">^</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">RadarStatus status</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> RadarTrip </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> _Nullable trip</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> NSArray</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">RadarEvent </span><span class="token operator" style="color:#393A34">*</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> _Nullable events</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> RadarStatusSuccess</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// do something</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// handle error</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">val externalId = &quot;299&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">val destinationGeofenceExternalId = &quot;123&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">val destinationGeofenceTag = &quot;store&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">val metadata = JSONObject()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata.put(&quot;Customer Name&quot;,&quot;Jacob Pena&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata.put(&quot;Car Model&quot;,&quot;Green Honda Civic&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">val mode = Radar.RadarRouteMode.CAR</span></span><span class="token-line" style="color:#393A34"><span class="token plain">val tripOptions = RadarTripOptions(tripExternalId, tripMetadata, destinationGeofenceTag, destinationGeofenceExternalId, mode)</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.startTrip(tripOptions, RadarTrackingOptions.CONTINUOUS) { status, trip, events -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (status == Radar.RadarStatus.SUCCESS) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // handle error</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">JSONObject tripOptionsJson = new JSONObject();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">try {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    tripOptionsJson.put(&quot;externalId&quot;,&quot;299&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    tripOptionsJson.put(&quot;destinationGeofenceTag&quot;,&quot;store&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    tripOptionsJson.put(&quot;destinationGeofenceExternalId&quot;,&quot;123&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    JSONObject tripOptionsMetadata = new JSONObject(&quot;{\&quot;Customer Name\&quot;:\&quot;Jacob Pena\&quot;, \&quot;Car Model\&quot;: \&quot;Green Honda Civic\&quot;}&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    tripOptionsJson.put(&quot;metadata&quot;,tripOptionsMetadata)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">} catch (JSONException e) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    e.printStackTrace();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">RadarTripOptions tripOptions = RadarTripOptions.fromJson(tripOptionsJson);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.startTrip(tripOptions, RadarTrackingOptions.CONTINUOUS, new Radar.RadarTripCallback() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onComplete(@NonNull Radar.RadarStatus status, @Nullable RadarTrip trip, @Nullable RadarEvent[] events) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      if (status == Radar.RadarStatus.SUCCESS) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // do something</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // handle error</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="updating-trips"></a>Updating trips<a class="hash-link" href="#updating-trips" title="Direct link to heading">#</a></h2><p>As the trip progresses, you can update the trip metadata (e.g., when a parking space is assigned for a pickup) or the trip status (e.g., to manually advance the status to <code>approaching</code> or <code>arrived</code>). This can be done either using the SDK or the <a href="/documentation/api#update-a-trip">API</a>.</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Swift</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Objective-C</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Kotlin</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W swift"><pre tabindex="0" class="prism-code language-swift codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">let tripOptions = Radar.getTripOptions()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">tripOptions.metadata = [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;parkingSpot&quot;: &quot;1&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.updateTrip(options: tripOptions, status: RadarTripStatus.ARRIVED) { status, trip, events -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (status == Radar.RadarStatus.SUCCESS) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // handle error</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W objc"><pre tabindex="0" class="prism-code language-objc codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">RadarTripOptions </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">tripOptions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Radar getTripOptions</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">NSDictionary </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">tripOptionsMetadata </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tripOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metadata</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">NSMutableDictionary </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">mTripOptionsMetadata </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">tripOptionsMetadata mutableCopy</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">mTripOptionsMetadata setObject</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">NSNumber numberWithInt</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> forKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">@&quot;Parking Spot&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">tripOptions setMetadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">mTripOptionsMetadata</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Radar updateTripWithOptions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">tripOptions status</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">RadarTripStatusArrived completionHandler</span><span class="token punctuation" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">^</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">RadarStatus status</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> RadarTrip </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> _Nullable trip</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> NSArray</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">RadarEvent </span><span class="token operator" style="color:#393A34">*</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> _Nullable events</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> RadarStatusSuccess</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// do something</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// handle error</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">var tripOptions = Radar.getTripOptions()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">var metadata = tripOptions?.metadata</span></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata?.put(&quot;Parking Spot&quot;,&quot;1&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">tripOptions?.metadata = metadata</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.updateTrip(tripOptions, RadarTrip.RadarTripStatus.ARRIVED) { status, trip, events -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (status == Radar.RadarStatus.SUCCESS) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // handle error</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">RadarTripOptions tripOptions = Radar.getTripOptions();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">JSONObject tripOptionsMetadata = tripOptions.getMetadata();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">tripOptionsMetadata.put(&quot;Parking Spot&quot;,&quot;1&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">tripOptions.setMetadata(tripOptionsMetadata);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.updateTrip(tripOptions, RadarTrip.RadarTripStatus.ARRIVED, (status, trip, events) -&gt; {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (status == Radar.RadarStatus.SUCCESS) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // do something</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // handle error</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="stopping-trips"></a>Stopping trips<a class="hash-link" href="#stopping-trips" title="Direct link to heading">#</a></h2><p>Finally, when the trip is complete (e.g., when an order is picked up or a delivery is dropped off), stop the trip. This can be done either using the SDK or the <a href="/documentation/api#stop-or-restart-trip">API</a>.</p><p>You can set trips to expire after a set period if not manually stopped using the <em>Expiration threshold</em> on the <a href="https://radar.com/dashboard/settings" target="_blank" rel="noopener noreferrer">Settings page</a>.</p><p>If tracking was started before the trip was started, the previous tracking options will be restored. Otherwise, tracking will be stopped.</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Swift</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Objective-C</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Kotlin</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W swift"><pre tabindex="0" class="prism-code language-swift codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">// trip complete</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.completeTrip()</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// trip cancelled</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.cancelTrip()</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W objc"><pre tabindex="0" class="prism-code language-objc codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// complete trip</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Radar completeTrip</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// cancel trip</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Radar cancelTrip</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">// trip complete</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.completeTrip { status, trip, events -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// do something with status, trip, events</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// trip cancelled</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.cancelTrip { status, trip, events -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// do something with status, trip, events</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">// Complete trip</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.completeTrip(new Radar.RadarTripCallback() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onComplete(Radar.RadarStatus radarStatus, RadarTrip radarTrip, RadarEvent[] radarEvents) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // do something</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// Cancel trip</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.cancelTrip(new Radar.RadarTripCallback() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onComplete(Radar.RadarStatus radarStatus, RadarTrip radarTrip, RadarEvent[] radarEvents) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // do something</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="trip-events"></a>Trip events<a class="hash-link" href="#trip-events" title="Direct link to heading">#</a></h2><p>Radar calculates ETAs and generates events when trips are updated:</p><ul><li><code>user.started_trip</code></li><li><code>user.updated_trip</code></li><li><code>user.approaching_trip_destination</code> (configurable ETA threshold)</li><li><code>user.arrived_at_trip_destination</code> (destination geofence entered)</li><li><code>user.stopped_trip</code></li></ul><p>ETAs are calculated based on travel mode using the same routing engine that powers our <a href="/documentation/maps/routing">distance API</a>.</p><p>You can receive events client-side via the <a href="/documentation/sdk">SDK</a> or server-side via <a href="/documentation/integrations">event integrations</a>, including webhooks.</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W json"><pre tabindex="0" class="prism-code language-json codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;events&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;56db1f4613012711002229f6&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user.updated_trip&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;createdAt&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2020-08-20T10:30:55.837Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;live&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;trip&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;5f3e50491c2b7d005c81f5d9&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;live&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;externalId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;299&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;metadata&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;Customer Name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Jacob Pena&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;Car Model&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Green Honda Civic&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;mode&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;car&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;destinationGeofenceTag&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;store&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;destinationGeofenceExternalId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;123&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;destinationLocation&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;coordinates&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token number" style="color:#36acaa">-105.061198</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token number" style="color:#36acaa">39.779366</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Point&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;eta&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;duration&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;distance&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1331</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;createdAt&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2020-08-20T10:27:55.830Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;updatedAt&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2020-08-20T10:30:55.837Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;status&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;started&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;user&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;56db1f4613012711002229f4&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;live&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;userId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;deviceId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;C305F2DB-56DC-404F-B6C1-BC52F0B680D8&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="anomaly-detection"></a>Anomaly detection<a class="hash-link" href="#anomaly-detection" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="wrong-destination-arrival-detection"></a>Wrong destination arrival detection<a class="hash-link" href="#wrong-destination-arrival-detection" title="Direct link to heading">#</a></h3><p>The wrong destination arrival detection feature identifies when a user on a trip may have entered a different destination than the one intended. Specifically, it triggers an event when the user enters a geofence that shares the same <code>tag</code> as the destination geofence, but possesses a different <code>externalId</code>.</p><p>To enable this feature, navigate to the <a href="https://radar.com/dashboard/settings#trips-settings" target="_blank" rel="noopener noreferrer">Settings page</a> and enable the <code>user.arrived_at_wrong_trip_destination</code> event under <em>Trips</em> section.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="delay-detection"></a>Delay detection<a class="hash-link" href="#delay-detection" title="Direct link to heading">#</a></h3><p>Delay detection identifies trips at risk of being delayed or incomplete. To enable this feature, configure a <em>Delay threshold</em> on the <a href="https://radar.com/dashboard/settings#trips-settings" target="_blank" rel="noopener noreferrer">Settings page</a> under <em>Trips</em>.</p><p>If <code>scheduledArrivalAt</code> is set for a trip, delay information is captured in the trip&#x27;s <code>delay</code> field. The <code>scheduledArrivalTimeDelay</code> is the predicted arrival delay from the <code>scheduledArrivalAt</code> time in minutes. The <code>delayed</code> flag is <code>true</code> when <code>scheduledArrivalTimeDelay</code> exceeds the delay threshold.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="display-live-trips-and-etas"></a>Display live trips and ETAs<a class="hash-link" href="#display-live-trips-and-etas" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="in-the-radar-trip-tracking-dashboard"></a>In the Radar trip tracking dashboard<a class="hash-link" href="#in-the-radar-trip-tracking-dashboard" title="Direct link to heading">#</a></h3><div class="alert alert_19nB alertInfo_1EfW" role="alert">The trip tracking dashboard is available on the  <a href="https://radar.com/pricing" target="_blank" rel="noopener noreferrer">Enterprise plan</a>.</div><p>The Radar trip tracking dashboard displays active trips for a specific destination geofence, including ID, custom metadata, and ETA.</p><p>Ask your customer success manager for a distribution of the app specific to your organization.</p><img src="https://images.ctfassets.net/f2vbu16fzuly/38fY5fD4H47UGa4KZXHLib/989305812e9b35a741141b1fd9c3befa/tablet-view.gif" class="hero-image"><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="in-your-own-ui"></a>In your own UI<a class="hash-link" href="#in-your-own-ui" title="Direct link to heading">#</a></h3><p>Poll the <a href="/documentation/api#list-trips">list trips API</a> to retrieve active trips for a specific destination geofence, including ID, custom metadata, and ETA. For example, you might poll the list trips API from an internal dashboard.</p><p>Or, listen for <a href="/documentation/trip-tracking#trip-events">trip events</a> sent to a webhook. From there, forward trip information, including ID, custom metadata, and ETA, to other systems. For example, you might set up a webhook that sends ETA to an order management or kitchen display system.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="analytics"></a>Analytics<a class="hash-link" href="#analytics" title="Direct link to heading">#</a></h2><p>Radar offers analytics on trip data and location opt-in rates from <a href="/documentation/api#users">users</a> in your project. <a href="https://radar.com/dashboard/analytics" target="_blank" rel="noopener noreferrer">Analytics</a> on trip data can be found on the Analytics page and grouped under the Trips tab. Analytics on location permission opt-in rates is grouped under the Permissions tab. Read more about Permissions <a href="/documentation/faqs#location-permissions">here</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="how-to-filter-your-data"></a>How to filter your data<a class="hash-link" href="#how-to-filter-your-data" title="Direct link to heading">#</a></h3><p>The Filters button at the top of the page offers ways to look at more granular views of your trip data. The filters will apply to the statistics cards and graphs as well as the data in the By Destination table.</p><p><strong>Date Range:</strong> A date range can be selected from the drop-down date picker. Make sure that the date in the left-hand box falls before the date in the right-hand box. When accessing the Analytics page, the default date range encompasses all trip data in your project, meaning that you&#x27;ll see a default range from the date of your earliest trip to yesterday. All trip analytics are updated nightly and trip analytics from today will not be shown in the Analytics page until tomorrow.</p><p><strong>Destination Geofence Tag:</strong> Each geofence has a geofence tag. You can find the tag to a specific geofence in the &quot;Tag&quot; column on the Geofences page in the sidebar, or you can navigate to the trips page in the sidebar and click on the external ID listed under &quot;Destination&quot;, which will show the details of the destination geofence. This field can be used alone or in tandem with the Destination Geofence External ID field.</p><p><strong>Destination Geofence External ID</strong>: Each geofence has an external ID. You can find the external ID for a specific geofence in the &quot;External ID&quot; column on the Geofences page in the sidebar, or you can navigate to the Trips page and click on the external ID listed under &quot;Destination&quot;. This field can be used alone or in tandem with the Destination Geofence Tag field.</p><p><strong>Travel Mode:</strong> Select a specific mode of travel to filter all trip data in the Analytics view to only a specific mode. If there is no mode selected, all trip data, regardless of travel mode, will be shown.</p><p>Trip analytics apply to the environment in which you view the metrics. For example, when viewing the metrics in the test environment, the metrics only include trip data from the test environment.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="trips-overview"></a>Trips overview<a class="hash-link" href="#trips-overview" title="Direct link to heading">#</a></h3><ul><li><strong><code>Median wait time</code></strong>: the median duration between the moment when a user arrives at a destination (<code>user.arrived_at_trip_destination</code>) and the moment when the trip is marked complete (<code>completed</code>). This statistic omits trips which are missing an arrival timestamp.</li><li><strong><code>Number of trips</code></strong>: the total count of all live trips for a specific project which have a status of <code>completed</code>.</li><li><strong><code>Median trip time</code></strong>: the median duration between the moment when the user starts a trip (<code>user.started_trip</code>) and the moment when they arrive at the destination (<code>user.arrived_at_trip_destination</code>). This statistic omits trips which are missing an arrival timestamp.</li><li><strong><code>Repeat customers</code></strong>: the total number of your users who have completed more than one trip.</li></ul><p>The graphs for each card show the change over time in each statistic. The time windows of each graph are automatically determined by the dates set in the Filters button. To see data grouped by hour, set the date range to encompass 2 days or fewer. To see data grouped by day, set the date range to encompass 21 days or fewer. To see data grouped by weeks, set the date range to encompass 60 days or fewer. To see data grouped by month, the date range must encompass more than 60 days of data.</p><table><thead><tr><th>Number of Days</th><th>Time Grouping</th></tr></thead><tbody><tr><td>2</td><td>Hour</td></tr><tr><td>21</td><td>Day</td></tr><tr><td>60</td><td>Week</td></tr><tr><td>60+</td><td>Month</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="by-destination-table"></a>By Destination table<a class="hash-link" href="#by-destination-table" title="Direct link to heading">#</a></h3><p>The By Destination table groups your trip data by individual destination geofence and allows you to identify your <strong>slowest and fastest stores</strong> by wait time as well as your <strong>most popular stores</strong> by the number of trips made to the store.</p><p>By default, the By Destination table is sorted alphabetically based on the Destination column. To toggle the sort order of the column, click the column header.</p><p>The table has 6 sortable headers:</p><ul><li><strong><code>Destination</code></strong>: the description of the individual destination geofence.</li><li><strong><code>Tag</code></strong>: the geofence tag associated with the unique geofence destination listed in the destination column. Clicking on a tag filters the entire Analytics page for only geofences that contain that tag.</li><li><strong><code>Geofence ID</code></strong>: the geofence ID of the unique geofence destination listed in the destination column.</li><li><strong><code>Wait Time</code></strong>: the median wait time of all qualifying trips to that destination, given the filters applied.</li><li><strong><code>Trips Completed</code></strong>: the number of completed trips to that destination, given the filters applied.</li><li><strong><code>Trip Time</code></strong>: the median trip time of all qualifying trips to that destination, given the filters applied.</li></ul><p><strong>By Destination table filter box:</strong> The text box in the By Destination table on the Analytics page also allows you to filter only the data in the table. You can filter by Destination, Tag, or Geofence ID. (The filters set in text box only apply to data in the By Destination table and do not apply to the overall trip metrics at the top of the page.)</p><p><strong>Additional options in the table:</strong> On the right side of each row, there is an icon with three dots that allows viewers to select additional options. Clicking on this icon offers two actions:</p><ul><li><strong><code>Filter by destination</code></strong>: This will filter the entire analytics page to only include this single destination.</li><li><strong><code>View destination</code></strong>: This will bring you to the destination geofence&#x27;s detail page.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="calculations"></a>Calculations<a class="hash-link" href="#calculations" title="Direct link to heading">#</a></h3><p>Wait time and trip time are only calculated for trips that have a status of <code>completed</code> and have timestamp entries for <code>started_at</code>, <code>arrived_at</code>, and <code>completed_at</code>. Reminder that all trip analytics are updated nightly and trip analytics from today will not be shown in the Analytics page until tomorrow.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="data-retention-settings-and-frequency-of-updates"></a>Data retention settings and frequency of updates<a class="hash-link" href="#data-retention-settings-and-frequency-of-updates" title="Direct link to heading">#</a></h3><p>Data retention settings (a setting on the <em>project</em> level) apply to the data in Analytics as well. The default data retention settings for trip data is 90 days.</p><p>Median wait time, trip count, and median trip duration metrics are all updated nightly, so all calculations do not include the current day&#x27;s data.</p><p>If your project does not have any past trips, you will not see any data in the analytics section of your dashboard. Take your first trip to see the statistics populate!</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="support"></a>Support<a class="hash-link" href="#support" title="Direct link to heading">#</a></h2><p>Have questions? We&#x27;re here to help! Contact us at <a href="https://radar.com/support" target="_blank" rel="noopener noreferrer">radar.com/support</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/radarlabs/docs/edit/main/docs/trip-tracking.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/documentation/geofences"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Geofences</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/documentation/places"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Places »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#quickstart" class="table-of-contents__link">Quickstart</a></li><li><a href="#starting-trips" class="table-of-contents__link">Starting trips</a></li><li><a href="#updating-trips" class="table-of-contents__link">Updating trips</a></li><li><a href="#stopping-trips" class="table-of-contents__link">Stopping trips</a></li><li><a href="#trip-events" class="table-of-contents__link">Trip events</a></li><li><a href="#anomaly-detection" class="table-of-contents__link">Anomaly detection</a><ul><li><a href="#wrong-destination-arrival-detection" class="table-of-contents__link">Wrong destination arrival detection</a></li><li><a href="#delay-detection" class="table-of-contents__link">Delay detection</a></li></ul></li><li><a href="#display-live-trips-and-etas" class="table-of-contents__link">Display live trips and ETAs</a><ul><li><a href="#in-the-radar-trip-tracking-dashboard" class="table-of-contents__link">In the Radar trip tracking dashboard</a></li><li><a href="#in-your-own-ui" class="table-of-contents__link">In your own UI</a></li></ul></li><li><a href="#analytics" class="table-of-contents__link">Analytics</a><ul><li><a href="#how-to-filter-your-data" class="table-of-contents__link">How to filter your data</a></li><li><a href="#trips-overview" class="table-of-contents__link">Trips overview</a></li><li><a href="#by-destination-table" class="table-of-contents__link">By Destination table</a></li><li><a href="#calculations" class="table-of-contents__link">Calculations</a></li><li><a href="#data-retention-settings-and-frequency-of-updates" class="table-of-contents__link">Data retention settings and frequency of updates</a></li></ul></li><li><a href="#support" class="table-of-contents__link">Support</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/documentation/assets/js/runtime~main.a77c3195.js"></script>
<script src="/documentation/assets/js/main.9f2cc935.js"></script>
</body>
</html>
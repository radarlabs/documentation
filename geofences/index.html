<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-83017101-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Documentation | Radar" href="/documentation/opensearch.xml">
<script src="/documentation/js/fullstory.js" async></script><title data-react-helmet="true">Documentation - Geofences | Radar</title><meta data-react-helmet="true" property="og:url" content="https://radar.com/documentation/geofences"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" name="description" content="Location data infrastructure | Geofencing SDK and API"><meta data-react-helmet="true" name="fb:app_id" content="1026503440803301"><meta data-react-helmet="true" name="og:site_name" content="Radar"><meta data-react-helmet="true" name="og:type" content="website"><meta data-react-helmet="true" name="og:description" content="Location data infrastructure | Geofencing SDK and API"><meta data-react-helmet="true" name="og:image" content="https://radar.com/static/image/logo-social.png"><meta data-react-helmet="true" name="og:image:url" content="https://radar.com/static/image/logo-social.png"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="twitter:site" content="@radarlabs"><meta data-react-helmet="true" name="twitter:image" content="https://radar.com/static/image/logo.png"><meta data-react-helmet="true" name="twitter:description" content="Location data infrastructure | Geofencing SDK and API"><meta data-react-helmet="true" property="og:title" content="Geofences"><meta data-react-helmet="true" property="twitter:title" content="Geofences"><link data-react-helmet="true" rel="shortcut icon" href="/documentation/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://radar.com/documentation/geofences"><link data-react-helmet="true" rel="alternate" href="https://radar.com/documentation/geofences" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://radar.com/documentation/geofences" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://HNJN02FL1I-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/documentation/assets/css/styles.ed350957.css">
<link rel="preload" href="/documentation/assets/js/runtime~main.1a4af6af.js" as="script">
<link rel="preload" href="/documentation/assets/js/main.58523c29.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/documentation/"><img src="/documentation/img/logo.svg" alt="Radar" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/documentation/img/logo.svg" alt="Radar" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="navbar__items navbar__items--right"><a href="https://radar.com/pricing" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Pricing</a><a href="https://radar.com/contact" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Contact Sales</a><a href="https://radar.com/login" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Dashboard</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_2Fju" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_3jCp fs-unmask"><nav class="menu thin-scrollbar menu_1DcY menuWithAnnouncementBar_3IKd"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/documentation/">Overview</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Geofencing Platform</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/geofencing/overview">Overview</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/documentation/geofences">Geofences</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/trip-tracking">Trips</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/places">Places</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/regions">Regions</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/beacons">Beacons</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/fraud">Fraud</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/notifications">Notifications</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Integrations</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/geofencing/testing">Testing</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Maps Platform</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">SDK Reference</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/documentation/api">API Reference</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorials</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/documentation/waypoint">Waypoint</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/documentation/faqs">FAQs</a></li><li class="menuFooter_2WBS"><a class="menuHomeButton_19K4" href="https://radar.com">Back to radar.com</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row fs-unmask"><div class="col docItemCol_2rXS"><div class="docItemContainer_1EXp"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_Ftrd"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Geofences</h1></header><p>Geofences represent custom regions or places monitored in your project. Depending on your use case, a geofence might represent a retail store, a neighborhood, and so on.</p><p>Radar geofencing is more powerful than native iOS or Android geofencing, with cross-platform support for unlimited geofences, polygon geofences, <a href="https://en.wikipedia.org/wiki/Isochrone_map" target="_blank" rel="noopener noreferrer">isochrone</a> (time-based) geofences, temporary geofences, and stop detection.</p><img class="hero-image--small" src="https://images.ctfassets.net/f2vbu16fzuly/7g93fYMsIya1BRo9js96h9/fd5624ec2d3db9305ca9564f59374fe4/geofences_event.svg"><p>Geofences provides the following user context:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W json"><pre tabindex="0" class="prism-code language-json codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;geofences&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;tag&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;store&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;externalId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;123&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Store #123&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;metadata&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;parking&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div><p>Geofences also provides the following events:</p><ul><li><code>user.entered_geofence</code></li><li><code>user.exited_geofence</code></li><li><code>user.dwelled_in_geofence</code></li></ul><p>You can receive events client-side via the <a href="/documentation/sdk">SDK</a> or server-side via <a href="/documentation/integrations">event integrations</a>, including webhooks.</p><p>You can <a href="#create-geofences">create geofences</a> via the dashboard, CSV import, the API, nightly sync, or integrations.</p><p>Alternatively, if you don&#x27;t have your own custom place data, Radar can detect when a user visits a place even if you haven&#x27;t set up a geofence for that place. Learn more about <a href="/documentation/places">Places</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="quickstart"></a>Quickstart<a class="hash-link" href="#quickstart" title="Direct link to heading">#</a></h2><p>First, <a href="https://radar.com/signup" target="_blank" rel="noopener noreferrer">sign up</a> for Radar and get an API key.</p><p>Then, <a href="#create-a-geofence">create geofences</a>.</p><p>From there, <a href="/documentation/sdk">integrate the SDK</a> and call <code>Radar.trackOnce()</code> or <code>Radar.startTracking()</code>, depending on your use case. Radar will generate an entry event on the first location update inside of a geofence.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="how-it-works"></a>How it works<a class="hash-link" href="#how-it-works" title="Direct link to heading">#</a></h2><p>Geofencing works in the foreground and in the background. All event generation happens server-side. This allows Radar geofencing to be more powerful than native iOS or Android geofencing, with cross-platform support for unlimited geofences, polygon geofences, <a href="https://en.wikipedia.org/wiki/Isochrone_map" target="_blank" rel="noopener noreferrer">isochrone</a> (time-based) geofences, temporary geofences, and stop detection.</p><p>Radar generates a geofence entry event if a user enters a geofence (if <a href="#stop-detection">stop detection</a> is off) or stops in a geofence (if <a href="#stop-detection">stop detection</a> is on) with sufficient confidence, then a geofence exit event when the user leaves the geofence with sufficient confidence. A device must exit a geofence before a subsequent entry into that same geofence.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="create-geofences"></a>Create geofences<a class="hash-link" href="#create-geofences" title="Direct link to heading">#</a></h2><p>You can create geofences via the dashboard, CSV import, the API, nightly sync, or integrations. You can create geofences in the <em>Test</em> environment for development and testing, and in the <em>Live</em> environment for production.</p><p>You specify the metadata for geofences when you create them, including the <em>tag</em> (a group for the geofence, e.g., <code>store</code>), <em>external ID</em> (an external ID for the geofence that maps to your internal database, e.g., <code>123</code>), and <em>description</em> (a display name for the geofence, e.g., <code>Store #123</code>).</p><p><strong>Geofences should be uniquely referenced by tag and external ID, assigned by you when a geofence is created. To disable or update metadata for a geofence, re-import the geofence with the same tag and external ID.</strong></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="dashboard"></a>Dashboard<a class="hash-link" href="#dashboard" title="Direct link to heading">#</a></h3><p>To create a geofence via the dashboard, go to the <a href="https://radar.com/dashboard/geofencing/geofences/new" target="_blank" rel="noopener noreferrer">Geofences page</a> and click the <em>Create</em> button. Optionally search for an address or place, then enter a description, tag, external ID, and optional metadata. Choose <em>circle</em> to create a circle geofence, <em>polygon</em> to create a polygon geofence, or <em>isochrone</em> to create an <a href="https://en.wikipedia.org/wiki/Isochrone_map" target="_blank" rel="noopener noreferrer">isochrone</a> (time-based) geofence. Click <em>Create</em> to create the geofence.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="csv-import"></a>CSV import<a class="hash-link" href="#csv-import" title="Direct link to heading">#</a></h3><p>To create geofences via CSV import, go to the <a href="https://radar.com/dashboard/geofencing/geofences#import" target="_blank" rel="noopener noreferrer">Geofences page</a> and click the <em>Import</em> button. Then, select a CSV to upload.</p><div class="alert alert_19nB alertInfo_1EfW" role="alert">Headers are required as the first row of the CSV.</div><p>The CSV may have the following columns:</p><ul><li><strong><code>description</code></strong> (string, required): A description for the geofence.</li><li><strong><code>type</code></strong> (string, required): The type of geofence geometry. <code>polygon</code>, <code>circle</code>, and <code>isochrone</code> are supported.</li><li><strong><code>tag</code></strong> (string, required): A group for the geofence.</li><li><strong><code>externalId</code></strong> (string, required): An external ID for the geofence that maps to your internal database.</li><li><strong><code>coordinates</code></strong> (array, required if <code>address</code> and <code>placeId</code> are not included): An array or JSON string representing a center for type <code>circle</code> or a destination for type <code>isochrone</code> in the format <code>[longitude,latitude]</code>. A two-dimensional array or JSON string representing a closed ring of between 4 and 2,000 coordinates in the format <code>[[longitude0, latitude0],[longitude1,latitude1],[longitude2,latitude2],...,[longitude0,latitude0]]</code> for type <code>polygon</code>. <strong>Note that longitude comes before latitude, a GeoJSON convention.</strong></li><li><strong><code>address</code></strong> (string, required if <code>coordinates</code> and <code>placeId</code> are not included): An address to search for, and if found, will represent the center for type <code>circle</code> or <code>isochrone</code>. If <code>address</code> and <code>coordinates</code> are both provided, they must be nearby, and <code>coordinates</code> will take precedent. Ignored for type <code>polygon</code>.</li><li><strong><code>radius</code></strong> (number, required for type <code>circle</code> and <code>isochrone</code>): The radius in meters for type <code>circle</code>, a number between <code>10</code> and <code>10000</code>. The travel duration in minutes for type <code>isochrone</code>. Ignored for type <code>polygon</code>.</li><li><strong><code>mode</code></strong> (required for type <code>isochrone</code>): the <a href="/documentation/api#routing">travel mode</a> for type <code>isochrone</code>.</li><li><strong><code>enabled</code></strong> (boolean, optional): If <code>true</code>, the geofence will generate events. If <code>false</code>, the geofence will not generate events. Defaults to <code>true</code>.</li><li><strong><code>metadata</code></strong> (dictionary, optional): An optional set of custom key-value pairs for the geofence. A dictionary or JSON string with up to 16 keys and values of type string, boolean, or number. <strong>Cannot be used with <code>metadata.{key}</code> columns.</strong></li><li><strong><code>metadata.{key}</code></strong> (string, optional): Instead of converting <code>metadata</code> to stringified JSON, use columns of this format to add a key-value pairs to <code>metadata</code>. For example, the column header <code>metadata.pickup-mode</code> with a value of <code>&quot;drive-thru&quot;</code> will resolve to <code>{ pickup-mode: &quot;drive-thru&quot; }</code>. Avoid using spaces and commas for keys. <strong>Cannot be used with the <code>metadata</code> column.</strong></li><li><strong><code>operatingHours</code></strong> (dictionary, optional): An optional set of key-value pairs restricting the <a href="/documentation/geofences#operating-hours">operating hours of the geofence</a>. Each key is a day of the week (e.g., <code>Sunday</code>) or the three letter abbreviation of the day (e.g., <code>Sun</code>), case insensitive. Each value is a list of pairs, where a pair indicates one opening and closing time for that day. For example, a restaurant only open for lunch and dinner on Sundays would be <code>{ Sunday: [[&quot;11:00&quot;, &quot;14:00&quot;], [&quot;19:00&quot;, &quot;22:00&quot;]] }</code>. Accepted time formats include <code>h:mm aa</code> (e.g., <code>12:45 AM</code>) and <code>HH:mm</code> (e.g., <code>00:45</code>). If neither <code>operatingHours</code> nor <code>operatingHours.{day}</code> is provided, the geofence will always be open. <strong>Cannot be used with <code>operatingHours.{day}</code> columns.</strong></li><li><strong><code>operatingHours.{day}</code></strong> (string, optional): Instead of converting <code>operatingHours</code> to stringified JSON, use columns of this format to add a key-value pairs to <code>operatingHours</code>. For example, the column header <code>operatingHours.sunday</code> (or <code>operatingHours.sun</code>) with a value of <code>&quot;[[&quot;11:00&quot;, &quot;14:00&quot;], [&quot;19:00&quot;, &quot;22:00&quot;]]&quot;</code> will resolve to <code>{ Sunday: [[&quot;11:00&quot;, &quot;14:00&quot;], [&quot;19:00&quot;, &quot;22:00&quot;]] }</code>. If neither <code>operatingHours</code> nor <code>operatingHours.{day}</code> is provided, the geofence will always be open. <strong>Cannot be used with the <code>operatingHours</code> column.</strong></li><li><strong><code>stopDetection</code></strong> (boolean, optional): The <a href="/documentation/geofences#stop-detection">stop detection</a> setting for the geofence. Overrides the project-level stop detection setting.</li><li><strong><code>disableAfter</code></strong> (datetime, optional): Use to create temporary geofences. If set, the geofence will be disabled after the specified datetime. <code>disableAfter</code> operates independently of <code>operatingHours</code>. A date or valid ISO date string.</li><li><strong><code>deleteAfter</code></strong> (datetime, optional): Use to create temporary geofences. If set, the geofence will be deleted after the specified datetime. A date or valid ISO date string.</li><li><strong><code>userId</code></strong> (string, optional): An optional user restriction for the geofence. If set, the geofence will only generate events for the specified user. If not set, the geofence will generate events for all users. <strong>Deprecated.</strong></li><li><strong><code>userIds</code></strong> (string, optional): An optional user restriction for the geofence. A string of comma-separated user IDs. If set, the geofence will only generate events for the specified users. If not set, the geofence will generate events for all users.</li><li><strong><code>ip</code></strong> (string, optional): An optional IP address restriction for the geofence. A string of comma-separated IP address ranges, each of which could be a single IP (<code>8.8.8.8</code>), wildcard notation (<code>8.8.8.*</code>), or CIDR notation (<code>8.8.8.8/24</code>). If set, the geofence will only generate events for requests from the specified IP address. If not set, the geofence will generate events for all requests.</li><li><strong><code>dwellThreshold</code></strong> (number, optional): An optional field to trigger dwell events. If set and <code>user.dwelled_in_geofence</code> is enabled in settings, an event is triggered when a user dwells in the geofence longer than the threshold (in minutes). For example, a value of <code>10</code> would result in a dwell event on the next track call after a user has occupied a geofence for 10 minutes.</li><li><strong><code>placeId</code></strong> (string, required if <code>coordinates</code> and <code>address</code> are not included): For <a href="/documentation/places#place-matching">place matching</a>, an optional <code>_id</code> of the Radar <a href="/documentation/places">place</a> to match to the geofence. If a place was matched, the geometry of the place will override the geometry of the geofence.</li></ul><p><strong>If a geofence with the specified tag and external ID already exists, it will be updated. If not, it will be created.</strong></p><p>For example, to import a circle geofence representing a store and a polygon geofence representing a neighborhood, you could use the following CSV:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W json"><pre tabindex="0" class="prism-code language-json codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">description</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">tag</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">externalId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">type</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">radius</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">mode</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">coordinates</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">address</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">enabled</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">metadata</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">stopDetection</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">disableAfter</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">deleteAfter</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">userIds</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">operatingHours</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">&quot;Store #123&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">store</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">123</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">circle</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;[-73.975363,40.783826]&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;{&quot;</span><span class="token string" style="color:#e3116c">&quot;parking&quot;</span><span class="token string" style="color:#e3116c">&quot;:false}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">&quot;SoHo&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">neighborhood</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">soho</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">polygon</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;[[-73.996973,40.725660],[-73.998282,40.726294],[-74.001072,40.727660],[-74.002853,40.728603],[-74.003282,40.727936],[-74.003840,40.726310],[-74.004226,40.725351],[-74.004998,40.723530],[-74.005191,40.722993],[-74.005556,40.722115],[-74.004462,40.721334],[-74.001908,40.719496],[-73.999827,40.718016],[-73.997467,40.720863],[-73.997016,40.722212],[-73.996501,40.723497],[-73.995750,40.724278],[-73.995128,40.725107],[-73.996973,40.725660]]&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">&quot;15 minutes driving to Disney World&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;car-15&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">disney</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">isochrone</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">15</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">car</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;[-81.563874,28.385233]&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;{&quot;</span><span class="token string" style="color:#e3116c">&quot;type&quot;</span><span class="token string" style="color:#e3116c">&quot;:&quot;</span><span class="token string" style="color:#e3116c">&quot;resort&quot;</span><span class="token string" style="color:#e3116c">&quot;}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">&quot;Madison Square Garden from address&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">stadium</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">msg</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">circle</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;4 Pennsylvania Plaza, New York, NY 10001&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">&quot;Disable in 2028 and delete in 2029&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">new-years</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2027</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">circle</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;[-73.9877313,40.7579787]&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;2028-01-01T00:01:00-05:00&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;Jan 1, 2029&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">&quot;Delivery #123 for user #456 and driver #321&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">delivery</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">123</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">circle</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;[-73.9934387,40.7505045]&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;456,321&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">&quot;Restaurant #789 open for Sunday breakfast and dinner&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">restaurant</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">789</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">circle</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;[-73.9934387,40.7505045]&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;{&quot;</span><span class="token string" style="color:#e3116c">&quot;Sun&quot;</span><span class="token string" style="color:#e3116c">&quot;:[[&quot;</span><span class="token string" style="color:#e3116c">&quot;09:00&quot;</span><span class="token string" style="color:#e3116c">&quot;,&quot;</span><span class="token string" style="color:#e3116c">&quot;14:00&quot;</span><span class="token string" style="color:#e3116c">&quot;], [&quot;</span><span class="token string" style="color:#e3116c">&quot;17:00&quot;</span><span class="token string" style="color:#e3116c">&quot;,&quot;</span><span class="token string" style="color:#e3116c">&quot;22:00&quot;</span><span class="token string" style="color:#e3116c">&quot;]]}&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div><p><strong>Again, note that longitude comes before latitude, a GeoJSON convention.</strong></p><p>You can find a history of past imports on the <a href="https://radar.com/dashboard/geofences/imports" target="_blank" rel="noopener noreferrer">Geofences import history page</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="api"></a>API<a class="hash-link" href="#api" title="Direct link to heading">#</a></h3><p>You can also create geofences programmatically via the <a href="/documentation/api#upsert-a-geofence">API</a>. You can create a geofence via <span class="badge badge--info">POST</span> <code>/api/v1/geofences</code>, or upsert a geofence based on tag and external ID via <span class="badge badge--warning">PUT</span> <code>/api/v1/geofences/:tag/:externalId</code>.</p><p>For example, to upsert a geofence representing a store via the <a href="/documentation/api#upsert-a-geofence">API</a>:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W bash"><pre tabindex="0" class="prism-code language-bash codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> https://api.radar.io/v1/geofences/store/123 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H </span><span class="token string" style="color:#e3116c">&quot;Authorization: prj_live_sk_...&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    -X PUT </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    -d </span><span class="token string" style="color:#e3116c">&quot;description=Store #123&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    -d </span><span class="token string" style="color:#e3116c">&quot;type=circle&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    -d </span><span class="token string" style="color:#e3116c">&quot;coordinates=[-73.975363,40.783826]&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    -d </span><span class="token string" style="color:#e3116c">&quot;radius=100&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div><p><strong>Again, note that longitude comes before latitude, a GeoJSON convention.</strong></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="geofence-sync"></a>Geofence sync<a class="hash-link" href="#geofence-sync" title="Direct link to heading">#</a></h3><p>Finally, you can sync geofences nightly from a CSV.</p><p>On the Radar <a href="https://radar.com/dashboard/integrations" target="_blank" rel="noopener noreferrer">Integrations page</a> under <em>Geofence Sync</em>, set <em>Enabled</em> to <em>Yes</em>. Enter a <em>Notification Email</em> to receive success and failure confirmation emails. Then, choose a <em>Protocol</em>:</p><ul><li>Choose <em>HTTP</em> for geofence CSVs at public HTTP or HTTPS URLs. Enter the URLs of the geofence CSVs.</li><li>Or, choose <em>AWS S3</em> for geofence CSVs in a private S3 bucket. Enter an S3 bucket region, S3 bucket name, and the S3 object keys of the geofence CSVs. Finally, enter the AWS access key ID and secret access key of an IAM user with <code>GetObject</code> permissions for the specified S3 bucket and objects.</li></ul><p>Note that you can set separate CSVs for the <em>Test</em> and <em>Live</em> environments.</p><p>The geofence sync CSV format is the same as the <a href="/documentation/geofences#csv-import">geofence import CSV format</a>.</p><p>When you click <em>Save and Sync</em>, Radar will attempt a one-time sync and send an email on success or failure. Radar will then attempt syncs nightly.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="confidence-and-accuracy"></a>Confidence and accuracy<a class="hash-link" href="#confidence-and-accuracy" title="Direct link to heading">#</a></h2><p>All geofence events have confidence levels. Confidence levels range from <code>1</code> (low) to <code>3</code> (high). Confidence is a function of the accuracy of the location reported by the device and the geometry of the geofence.</p><p>Confidence will be high when the user, taking into account the accuracy of the location reported by the device, is completely inside the geofence. Confidence will be medium when the user is mostly inside the geofence. Confidence will be low when the user is only partially inside the geofence.</p><img src="https://images.ctfassets.net/f2vbu16fzuly/cszDUh5NBGi6lBpslnH67/cc29547e9e38cee37d325814a6f4f589/confidence.png" class="hero-image"><p>The smaller the geofence and the less accurate the location reported by the device, the lower the confidence level. As a result, you may decide to ignore some events based on confidence levels.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="stop-detection"></a>Stop detection<a class="hash-link" href="#stop-detection" title="Direct link to heading">#</a></h2><p>When <em>Geofence stop detection</em> is on, Radar can understand the difference between a user walking or driving through a geofence and stopping in a geofence, and will only generate a geofence entry event when a user stops in a geofence (i.e., when <code>stopped</code> is <code>true</code> based on <a href="/documentation/sdk/tracking">tracking options</a> or when <code>foreground</code> is <code>true</code>).</p><p>You can enable this setting at a project level on the <a href="https://radar.com/dashboard/settings#geofences-settings" target="_blank" rel="noopener noreferrer">Settings page</a>, or at a geofence level when you <a href="#create-geofences">create geofences</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="buffer-entries-and-exits"></a>Buffer entries and exits<a class="hash-link" href="#buffer-entries-and-exits" title="Direct link to heading">#</a></h2><p>Use <em>Buffer entries</em> to more aggressively enter geofences and reduce the likelihood of missed entry events. When <em>Buffer Entries</em> is off, Radar will only generate an entry event if the location reported by the device is inside the geofence boundary. However, when <em>Buffer Entries</em> is on, Radar will generate an entry event if the device is within X meters of the geofence, where X is the accuracy reported by the device. For example, if the device reports a location accurate to within 50 meters, Radar will generate an entry event if the location is within 50 meters of the geofence boundary.</p><p>Use <em>Buffer exits</em> to more conservatively exit geofences and reduce the jumpiness of exit events. When <em>Buffer Exits</em> is off, Radar will generate an exit event if the location reported by the device is outside the geofence boundary. However, when <em>Buffer Exits</em> is on, Radar will only generate an exit event if the device is more than X meters outside of the geofence, where X is the accuracy reported by the device. For example, if the device reports a location accurate to within 50 meters, Radar will only generate an entry event if the location is more than 50 meters outside of the geofence boundary.</p><p>You can enable these settings at a project level at a project level on the <a href="https://radar.com/dashboard/settings#geofences-settings" target="_blank" rel="noopener noreferrer">Settings page</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="operating-hours"></a>Operating hours<a class="hash-link" href="#operating-hours" title="Direct link to heading">#</a></h2><p>When <em>Operating Hours</em> are set on a geofence, Radar will indicate whether a user entered, exited, or dwelled in the geofence during its operating hours. Radar will add a boolean flag <code>currentlyOperating</code> to all geofence event payloads.</p><p>Radar can also restrict geofence events from being generated outside of operating hours. Restrict event generation to only operating hours at the project level on the <a href="https://radar.com/dashboard/settings#geofences-settings" target="_blank" rel="noopener noreferrer">Settings page</a>.</p><p>Operating hours can be set on individual geofences via <a href="/documentation/geofences#csv-import">CSV import</a>, the <a href="/documentation/api#upsert-a-geofence">API</a>, or in the <em>Advanced</em> section of the geofence create and edit pages.</p><img src="https://images.ctfassets.net/f2vbu16fzuly/2NBWd8m5bdREs2U0YEwlOI/658e8683aab80223b0ab50a055dc4136/operating-hours.png" class="hero-image"><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="dwell-events"></a>Dwell events<a class="hash-link" href="#dwell-events" title="Direct link to heading">#</a></h2><p>If <code>user.dwelled_in_geofence</code> is enabled, Radar can trigger dwell events after a device remains inside of a geofence boundary for more than a specific threshold. Radar will generate a dwell event after the first location reported by the device beyond the specified threshold.</p><p>You can enable this event at the project level on the <a href="https://radar.com/dashboard/settings#geofences-settings" target="_blank" rel="noopener noreferrer">Settings page</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/radarlabs/docs/edit/main/docs/geofences.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/documentation/geofencing/overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label"> Overview</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/documentation/trip-tracking"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Trips </div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#quickstart" class="table-of-contents__link">Quickstart</a></li><li><a href="#how-it-works" class="table-of-contents__link">How it works</a></li><li><a href="#create-geofences" class="table-of-contents__link">Create geofences</a><ul><li><a href="#dashboard" class="table-of-contents__link">Dashboard</a></li><li><a href="#csv-import" class="table-of-contents__link">CSV import</a></li><li><a href="#api" class="table-of-contents__link">API</a></li><li><a href="#geofence-sync" class="table-of-contents__link">Geofence sync</a></li></ul></li><li><a href="#confidence-and-accuracy" class="table-of-contents__link">Confidence and accuracy</a></li><li><a href="#stop-detection" class="table-of-contents__link">Stop detection</a></li><li><a href="#buffer-entries-and-exits" class="table-of-contents__link">Buffer entries and exits</a></li><li><a href="#operating-hours" class="table-of-contents__link">Operating hours</a></li><li><a href="#dwell-events" class="table-of-contents__link">Dwell events</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/documentation/assets/js/runtime~main.1a4af6af.js"></script>
<script src="/documentation/assets/js/main.58523c29.js"></script>
</body>
</html>
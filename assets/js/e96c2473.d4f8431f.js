"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7591],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(n),m=r,h=d["".concat(l,".").concat(m)]||d[m]||u[m]||o;return n?a.createElement(h,i(i({ref:t},c),{},{components:n})):a.createElement(h,i({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},8215:function(e,t,n){var a=n(7294);t.Z=function(e){var t=e.children,n=e.hidden,r=e.className;return a.createElement("div",{role:"tabpanel",hidden:n,className:r},t)}},1395:function(e,t,n){n.d(t,{Z:function(){return l}});var a=n(7294),r=n(944),o=n(6010),i="tabItem_1uMI",s="tabItemActive_2DSg";var l=function(e){var t,n=e.lazy,l=e.block,p=e.defaultValue,c=e.values,u=e.groupId,d=e.className,m=a.Children.toArray(e.children),h=null!=c?c:m.map((function(e){return{value:e.props.value,label:e.props.label}})),g=null!=p?p:null==(t=m.find((function(e){return e.props.default})))?void 0:t.props.value,f=(0,r.Z)(),v=f.tabGroupChoices,k=f.setTabGroupChoices,b=(0,a.useState)(g),y=b[0],w=b[1],N=[];if(null!=u){var C=v[u];null!=C&&C!==y&&h.some((function(e){return e.value===C}))&&w(C)}var S=function(e){var t=e.currentTarget,n=N.indexOf(t),a=h[n].value;w(a),null!=u&&(k(u,a),setTimeout((function(){var e,n,a,r,o,i,l,p;(e=t.getBoundingClientRect(),n=e.top,a=e.left,r=e.bottom,o=e.right,i=window,l=i.innerHeight,p=i.innerWidth,n>=0&&o<=p&&r<=l&&a>=0)||(t.scrollIntoView({block:"center",behavior:"smooth"}),t.classList.add(s),setTimeout((function(){return t.classList.remove(s)}),2e3))}),150))},O=function(e){var t,n=null;switch(e.key){case"ArrowRight":var a=N.indexOf(e.target)+1;n=N[a]||N[0];break;case"ArrowLeft":var r=N.indexOf(e.target)-1;n=N[r]||N[N.length-1]}null==(t=n)||t.focus()};return a.createElement("div",{className:"tabs-container"},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":l},d)},h.map((function(e){var t=e.value,n=e.label;return a.createElement("li",{role:"tab",tabIndex:y===t?0:-1,"aria-selected":y===t,className:(0,o.Z)("tabs__item",i,{"tabs__item--active":y===t}),key:t,ref:function(e){return N.push(e)},onKeyDown:O,onFocus:S,onClick:S},null!=n?n:t)}))),n?(0,a.cloneElement)(m.filter((function(e){return e.props.value===y}))[0],{className:"margin-vert--md"}):a.createElement("div",{className:"margin-vert--md"},m.map((function(e,t){return(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==y})}))))}},9443:function(e,t,n){var a=(0,n(7294).createContext)(void 0);t.Z=a},944:function(e,t,n){var a=n(7294),r=n(9443);t.Z=function(){var e=(0,a.useContext)(r.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e}},970:function(e,t,n){n.d(t,{Z:function(){return p}});var a=n(7294),r="alert_19nB",o="alertWarning_1tiz",i="alertInfo_1EfW",s="alertTip_1W6d",l="alertSuccess_7EZp",p=function(e){var t=e.children,n=e.alertType;return"warning"===n?a.createElement("div",{className:"alert "+r+" "+o,role:"alert"},t):"info"===n?a.createElement("div",{className:"alert "+r+" "+i,role:"alert"},t):"tip"===n?a.createElement("div",{className:"alert "+r+" "+s,role:"alert"},t):"success"===n?a.createElement("div",{className:"alert "+r+" "+l,role:"alert"},t):null}},7063:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return p},contentTitle:function(){return c},metadata:function(){return u},toc:function(){return d},default:function(){return h}});var a=n(7462),r=n(3366),o=(n(7294),n(3905)),i=n(1395),s=n(8215),l=n(970),p={sidebar_position:8,title:"Logging and analyzing where conversions occur"},c=void 0,u={unversionedId:"tutorials/logging-and-analyzing-where-conversions-occur",id:"tutorials/logging-and-analyzing-where-conversions-occur",isDocsHomePage:!1,title:"Logging and analyzing where conversions occur",description:"Conversions are available on the { }",source:"@site/docs/tutorials/logging-and-analyzing-where-conversions-occur.md",sourceDirName:"tutorials",slug:"/tutorials/logging-and-analyzing-where-conversions-occur",permalink:"/tutorials/logging-and-analyzing-where-conversions-occur",editUrl:"https://github.com/radarlabs/docs/edit/main/docs/tutorials/logging-and-analyzing-where-conversions-occur.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8,title:"Logging and analyzing where conversions occur"},sidebar:"defaultSidebar",previous:{title:"Localizing a website based on current country or city",permalink:"/tutorials/localizing-a-website-based-on-current-country-or-city"},next:{title:"Migrating from Google Maps",permalink:"/tutorials/migrate-from-google-maps"}},d=[{value:"Languages used",id:"languages-used",children:[]},{value:"Features used",id:"features-used",children:[]},{value:"Steps",id:"steps",children:[{value:"Step 1: Sign up for Radar",id:"step-1-sign-up-for-radar",children:[]},{value:"Step 2: Install the Radar SDK",id:"step-2-install-the-radar-sdk",children:[]},{value:"Step 3: Determine the conversions you want to track",id:"step-3-determine-the-conversions-you-want-to-track",children:[]},{value:"Step 4: Set up Radar geofences or places",id:"step-4-set-up-radar-geofences-or-places",children:[]},{value:"Step 5: Log conversions via the Radar SDK",id:"step-5-log-conversions-via-the-radar-sdk",children:[]},{value:"Step 6: Conversions overview in the Radar dashboard",id:"step-6-conversions-overview-in-the-radar-dashboard",children:[]},{value:"Step 7: Analyze conversions across location context types",id:"step-7-analyze-conversions-across-location-context-types",children:[]}]}],m={toc:d};function h(e){var t=e.components,p=(0,r.Z)(e,["components"]);return(0,o.kt)("wrapper",(0,a.Z)({},m,p,{components:t,mdxType:"MDXLayout"}),(0,o.kt)(l.Z,{alertType:"info",mdxType:"Alert"},"Conversions are available on the "," ",(0,o.kt)("a",{href:"https://radar.com/pricing",target:"_blank"},"Enterprise plan"),"."),(0,o.kt)("p",null,"In this tutorial, we show you how to use Radar's ",(0,o.kt)("a",{parentName:"p",href:"/api#log-a-conversion"},"conversions API")," to analyze the location context associated with key customer interactions. Conversions can represent anything from a purchase or signup to engagement with an in-app feature."),(0,o.kt)("p",null,"When these events are enriched with Radar's location context, they can be used to determine where these conversions occur and measure the value of location based features."),(0,o.kt)("h2",{id:"languages-used"},"Languages used"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Swift"),(0,o.kt)("li",{parentName:"ul"},"Kotlin")),(0,o.kt)("h2",{id:"features-used"},"Features used"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/sdk/ios"},"iOS SDK")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/sdk/android"},"Android SDK")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/api#log-a-conversion"},"Conversions API"))),(0,o.kt)("h2",{id:"steps"},"Steps"),(0,o.kt)("h3",{id:"step-1-sign-up-for-radar"},"Step 1: Sign up for Radar"),(0,o.kt)("p",null,"If you haven't already, sign up for Radar to get your API key. You can create up to 1,000 geofences and make up to 100,000 API requests per month for free."),(0,o.kt)("a",{className:"btn btn-large btn-primary",href:"https://radar.com/signup"},"Get API keys"),(0,o.kt)("h3",{id:"step-2-install-the-radar-sdk"},"Step 2: Install the Radar SDK"),(0,o.kt)("h4",{id:"ios"},"iOS"),(0,o.kt)("p",null,"If you're starting from scratch, create a new Xcode project of type Single View App."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"/sdk/ios#install-sdk"},"Install the iOS SDK")," using CocoaPods or Carthage (recommended) or by ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/radarlabs/radar-sdk-ios/releases"},"downloading the framework")," and dragging it into your project."),(0,o.kt)("p",null,"Initialize the SDK in your ",(0,o.kt)("inlineCode",{parentName:"p"},"AppDelegate")," class with your publishable API key."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-swift"},'import UIKit\nimport RadarSDK\n\n@UIApplicationMain\nclass AppDelegate: UIResponder, UIApplicationDelegate {\n\n    func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {\n        Radar.initialize(publishableKey: "prj_test_pk_...")\n\n        return true\n    }\n\n}\n')),(0,o.kt)("h4",{id:"android"},"Android"),(0,o.kt)("p",null,"The best way to add the SDK to your project is via Gradle. See the ",(0,o.kt)("a",{parentName:"p",href:"/sdk/android#install-sdk"},"Android SDK installation guide"),"."),(0,o.kt)("p",null,"When your app starts, in application ",(0,o.kt)("inlineCode",{parentName:"p"},"onCreate()"),", initialize the SDK with your publishable API key."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-kotlin"},'import io.radar.sdk.Radar\n\nclass MyApplication : Application() {\n\n    override fun onCreate() {\n        super.onCreate()\n\n        Radar.initialize(this, "prj_test_pk_...")\n    }\n\n}\n')),(0,o.kt)("h3",{id:"step-3-determine-the-conversions-you-want-to-track"},"Step 3: Determine the conversions you want to track"),(0,o.kt)("p",null,"To take advantage of Radar's conversions API, you need to identify the events that are important to your business. Here are some examples:"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Conversion name"),(0,o.kt)("th",{parentName:"tr",align:null},"Example purpose"),(0,o.kt)("th",{parentName:"tr",align:null},"Placement"),(0,o.kt)("th",{parentName:"tr",align:null},"Event properties"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"purchase")),(0,o.kt)("td",{parentName:"tr",align:null},"Measure the revenue driven from location-enabled features"),(0,o.kt)("td",{parentName:"tr",align:null},"After a user makes a purchase"),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"revenue")," (number) ",(0,o.kt)("br",null)," ",(0,o.kt)("inlineCode",{parentName:"td"},"pickup")," (boolean) ",(0,o.kt)("br",null)," ",(0,o.kt)("inlineCode",{parentName:"td"},"in_store_mode")," (boolean)")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"order_placed")),(0,o.kt)("td",{parentName:"tr",align:null},"Understand where users are placing orders within the app to prioritize personalized features"),(0,o.kt)("td",{parentName:"tr",align:null},"After a user places an order"),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"revenue")," (number) ",(0,o.kt)("br",null)," ",(0,o.kt)("inlineCode",{parentName:"td"},"applied_coupon")," (boolean)")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"sign_up")),(0,o.kt)("td",{parentName:"tr",align:null},"Measure which stores are driving sign ups through store promotions"),(0,o.kt)("td",{parentName:"tr",align:null},"After a user completes the signup flow"),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"referrer")," (string) ",(0,o.kt)("br",null)," ",(0,o.kt)("inlineCode",{parentName:"td"},"rewards")," (boolean)")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"product_search")),(0,o.kt)("td",{parentName:"tr",align:null},"Understand where customers are searching for products (i.e., in specific stores or at competitor locations)"),(0,o.kt)("td",{parentName:"tr",align:null},"After a user searches for a product"),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"section")," (string)")))),(0,o.kt)("h3",{id:"step-4-set-up-radar-geofences-or-places"},"Step 4: Set up Radar geofences or places"),(0,o.kt)("p",null,"On the ",(0,o.kt)("a",{parentName:"p",href:"https://radar.com/dashboard/geofences"},"Geofences page"),", import geofences for your locations. For places, on the ",(0,o.kt)("a",{parentName:"p",href:"https://radar.com/dashboard/settings"},"Settings page"),", monitor your desired place chains and categories. When processing conversions, Radar will determine if they happen at any of these geofences or places."),(0,o.kt)("h3",{id:"step-5-log-conversions-via-the-radar-sdk"},"Step 5: Log conversions via the Radar SDK"),(0,o.kt)("p",null,"The following example demonstrates how to log a conversion when a user makes a purchase."),(0,o.kt)(i.Z,{groupId:"conversions",defaultValue:"swift",values:[{label:"Swift",value:"swift"},{label:"Kotlin",value:"kotlin"}],mdxType:"Tabs"},(0,o.kt)(s.Z,{value:"swift",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-swift"},'// on making a purchase\nRadar.logConversion(\n  name: "purchase",\n  revenue: 12.50,\n  metadata: ["product":"shirt"]\n) { (status, event) in\n  print("Logged conversion: status = \\(Radar.stringForStatus(status)); event = \\(String(describing: event))")\n}\n'))),(0,o.kt)(s.Z,{value:"kotlin",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-kotlin"},'// on searching for a product\nval metadata = JSONObject(mapOf("product" to "shirt"))\nRadar.logConversion(\n    "purchase",\n    12.50,\n    metadata\n) { status, event ->\n    Log.v("example", "Conversion = ${event?.type}: status = $status; event = $event")\n}\n')))),(0,o.kt)("h3",{id:"step-6-conversions-overview-in-the-radar-dashboard"},"Step 6: Conversions overview in the Radar dashboard"),(0,o.kt)("p",null,"The ",(0,o.kt)("a",{parentName:"p",href:"https://radar.com/dashboard/report?view=conversions"},"Report")," page of the Radar dashboard has a ",(0,o.kt)("em",{parentName:"p"},"Conversions")," tab that provides an overview of all conversions logged for a project. Understand how engagement with your app differs between opted-in and opted-out users. See the total revenue across all conversions that have been logged with ",(0,o.kt)("inlineCode",{parentName:"p"},"revenue"),"."),(0,o.kt)("p",null,"Below is an example of a fully populated ",(0,o.kt)("em",{parentName:"p"},"Conversions")," page for a project that has logged conversions for ",(0,o.kt)("inlineCode",{parentName:"p"},"purchase")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"opened_notification")," events:\n",(0,o.kt)("img",{alt:"Conversions report page",src:n(8108).Z})),(0,o.kt)("h3",{id:"step-7-analyze-conversions-across-location-context-types"},"Step 7: Analyze conversions across location context types"),(0,o.kt)("p",null,"You can see when and where conversions were generated directly in the Radar dashboard. On the ",(0,o.kt)("a",{parentName:"p",href:"https://radar.com/dashboard/events"},"Events")," page, watch as conversions start to stream in:"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Conversion events feed",src:n(1122).Z})),(0,o.kt)("p",null,"Click the ",(0,o.kt)("em",{parentName:"p"},"View")," icon on the right to view a conversion's details:\n",(0,o.kt)("img",{alt:"Conversion event detail page",src:n(581).Z})),(0,o.kt)("p",null,"Finally, select ",(0,o.kt)("em",{parentName:"p"},"Analysis")," within the dropdown on the ",(0,o.kt)("a",{parentName:"p",href:"https://radar.com/dashboard/events"},"Events")," page to view all of your conversions sliced by different dimensions, such as place chain or geofence tag:"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Conversion events analysis",src:n(5956).Z})))}h.isMDXComponent=!0},6010:function(e,t,n){function a(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function r(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(r&&(r+=" "),r+=t);return r}n.d(t,{Z:function(){return r}})},581:function(e,t,n){t.Z=n.p+"assets/images/conversion-event-detail-page-3421ed91319913e20b52db38f1cd6dd8.gif"},5956:function(e,t,n){t.Z=n.p+"assets/images/conversion-events-analysis-0252a5def813edf16b7ac1c4ce50ff80.png"},1122:function(e,t,n){t.Z=n.p+"assets/images/conversion-events-feed-61fa7247b3e1dc0a1b91a4492f3d7687.png"},8108:function(e,t,n){t.Z=n.p+"assets/images/conversions-report-page-0b467fbf731440f46fab841b3ebcee68.png"}}]);
"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5878],{3905:function(e,t,a){a.d(t,{Zo:function(){return s},kt:function(){return h}});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var p=r.createContext({}),d=function(e){var t=r.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},s=function(e){var t=d(e.components);return r.createElement(p.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=d(a),h=n,m=u["".concat(p,".").concat(h)]||u[h]||c[h]||i;return a?r.createElement(m,o(o({ref:t},s),{},{components:a})):r.createElement(m,o({ref:t},s))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,o=new Array(i);o[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:n,o[1]=l;for(var d=2;d<i;d++)o[d]=a[d];return r.createElement.apply(null,o)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},970:function(e,t,a){a.d(t,{Z:function(){return d}});var r=a(7294),n="alert_19nB",i="alertWarning_1tiz",o="alertInfo_1EfW",l="alertTip_1W6d",p="alertSuccess_7EZp",d=function(e){var t=e.children,a=e.alertType;return"warning"===a?r.createElement("div",{className:"alert "+n+" "+i,role:"alert"},t):"info"===a?r.createElement("div",{className:"alert "+n+" "+o,role:"alert"},t):"tip"===a?r.createElement("div",{className:"alert "+n+" "+l,role:"alert"},t):"success"===a?r.createElement("div",{className:"alert "+n+" "+p,role:"alert"},t):null}},4120:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return l},contentTitle:function(){return p},metadata:function(){return d},toc:function(){return s},default:function(){return u}});var r=a(7462),n=a(3366),i=(a(7294),a(3905)),o=a(970),l={title:"Olo"},p=void 0,d={unversionedId:"integrations/olo",id:"integrations/olo",isDocsHomePage:!1,title:"Olo",description:"The Olo integration is available on the { }",source:"@site/docs/integrations/olo.mdx",sourceDirName:"integrations",slug:"/integrations/olo",permalink:"/documentation/integrations/olo",editUrl:"https://github.com/radarlabs/docs/edit/main/docs/integrations/olo.mdx",tags:[],version:"current",frontMatter:{title:"Olo"},sidebar:"defaultSidebar",previous:{title:"mParticle",permalink:"/documentation/integrations/mparticle"},next:{title:"OneSignal",permalink:"/documentation/integrations/onesignal"}},s=[{value:"Configuration",id:"configuration",children:[]},{value:"Order firing",id:"order-firing",children:[{value:"Scheduled arrival at",id:"scheduled-arrival-at",children:[]},{value:"Approaching threshold",id:"approaching-threshold",children:[]},{value:"Multiple order support",id:"multiple-order-support",children:[]}]},{value:"Expo notifications",id:"expo-notifications",children:[]}],c={toc:s};function u(e){var t=e.components,l=(0,n.Z)(e,["components"]);return(0,i.kt)("wrapper",(0,r.Z)({},c,l,{components:t,mdxType:"MDXLayout"}),(0,i.kt)(o.Z,{alertType:"info",mdxType:"Alert"},"The Olo integration is available on the "," ",(0,i.kt)("a",{href:"https://radar.com/pricing",target:"_blank"},"Enterprise plan"),"."),(0,i.kt)("p",null,"Radar can track customer pickups for orders placed through ",(0,i.kt)("a",{parentName:"p",href:"https://www.olo.com"},"Olo"),". The integration includes optional capabilities to ",(0,i.kt)("a",{parentName:"p",href:"/integrations/olo#order-firing"},"fire orders")," based on live location updates and send approaching and arrival alerts to ",(0,i.kt)("a",{parentName:"p",href:"/integrations/olo#expo-notifications"},"Olo Expo"),"."),(0,i.kt)("h2",{id:"configuration"},"Configuration"),(0,i.kt)("p",null,"Configure an Olo webhook to deliver order events to ",(0,i.kt)("inlineCode",{parentName:"p"},"https://api.radar.io/webhooks/olo")," via the ",(0,i.kt)("em",{parentName:"p"},"Development Tools")," section of the Olo Dashboard (requires two-factor authentication and at least Brand Manager permission). Under the ",(0,i.kt)("em",{parentName:"p"},"Order Events")," section, enable ",(0,i.kt)("em",{parentName:"p"},"Order Placed")," and ",(0,i.kt)("em",{parentName:"p"},"Order Cancelled"),". If leveraging ",(0,i.kt)("a",{parentName:"p",href:"/integrations/olo#expo-notifications"},"Olo Expo"),", enable the ",(0,i.kt)("em",{parentName:"p"},"Order Picked Up")," event as well."),(0,i.kt)("p",null,"Once the webhook is setup, your Radar account team will setup the configuration on the ",(0,i.kt)("a",{parentName:"p",href:"https://radar.com/dashboard/integrations"},"Integrations page"),". Applicable Olo ",(0,i.kt)("em",{parentName:"p"},"Handoff modes"),", a destination geofence tag (e.g., ",(0,i.kt)("inlineCode",{parentName:"p"},"restaurant"),"), and custom field mappings from the Olo webhook body to Radar trip metadata will be set."),(0,i.kt)("p",null,"Finally, on the Radar ",(0,i.kt)("a",{parentName:"p",href:"https://radar.com/dashboard/geofences"},"Geofences page"),", ",(0,i.kt)("a",{parentName:"p",href:"/geofences#csv-import"},"import geofences")," for your restaurants. Use the tag from the Olo integration configuration for the geofence ",(0,i.kt)("inlineCode",{parentName:"p"},"tag")," attribute."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Olo Webhook Configuration",src:a(4861).Z})),(0,i.kt)("p",null,"Radar will automatically create trips when new orders are placed, as well as complete or cancel trips when orders are completed or cancelled in Olo. Call ",(0,i.kt)("inlineCode",{parentName:"p"},"Radar.startTrip(tripOptions, trackingOptions)")," with ",(0,i.kt)("inlineCode",{parentName:"p"},"tripOptions.externalId")," set to the Olo order ID to start the Radar trip and enable tracking."),(0,i.kt)("p",null,"The mapping below will be used between the Olo webhook and a Radar trip:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Olo webhook field"),(0,i.kt)("th",{parentName:"tr",align:null},"Radar trip attribute"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"orderId")),(0,i.kt)("td",{parentName:"tr",align:null},"Trip external id")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"storeNumber")),(0,i.kt)("td",{parentName:"tr",align:null},"Trip destination")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"timeReady")," - ",(0,i.kt)("inlineCode",{parentName:"td"},"timePlaced")),(0,i.kt)("td",{parentName:"tr",align:null},"Trip approaching threshold*")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"timeReady")),(0,i.kt)("td",{parentName:"tr",align:null},"Trip scheduled arrival at*")))),(0,i.kt)("p",null,"*",(0,i.kt)("em",{parentName:"p"},"Requires enabling the associated auto-calculate order firing setting")),(0,i.kt)("p",null,"Assuming locations permissions have been granted and location tracking has been started in your app, Radar will calculate live ETAs to the restaurant and generate ",(0,i.kt)("inlineCode",{parentName:"p"},"user.updated_trip"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"user.approaching_trip_destination"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"user.arrived_at_trip_destination")," events. Learn more about ",(0,i.kt)("a",{parentName:"p",href:"/trip-tracking"},"Trip Tracking"),"."),(0,i.kt)("h2",{id:"order-firing"},"Order firing"),(0,i.kt)("p",null,"Radar can fire orders in Olo based on customer location rather than a preset time to ensure food preparation time aligns with customer arrival."),(0,i.kt)("p",null,"Orders in Olo will need to set a ",(0,i.kt)("inlineCode",{parentName:"p"},"timewanted")," for advance orders, or alternatively, set the ",(0,i.kt)("inlineCode",{parentName:"p"},"externalRef")," to any value that starts with ",(0,i.kt)("inlineCode",{parentName:"p"},"radar_")," (i.e. ",(0,i.kt)("inlineCode",{parentName:"p"},"radar_h87y12rgb"),")."),(0,i.kt)("p",null,"Additionally, configure Radar with a ",(0,i.kt)("em",{parentName:"p"},"Partnership Type")," of ",(0,i.kt)("em",{parentName:"p"},"Customer Arrival")," via the ",(0,i.kt)("em",{parentName:"p"},"Partner Management")," section of the Olo Dashboard. Select stores in the configuration where order firing will be enabled. Upon completion, reach out to your Radar account team to complete the order firing integration."),(0,i.kt)("p",null,"When starting a trip for an order, include the ",(0,i.kt)("inlineCode",{parentName:"p"},"oloOrderGuid")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"oloHandoffMode")," in trip metadata."),(0,i.kt)("p",null,"The trip's approaching threshold and scheduled arrival at attributes are used to determine the order firing time. When an active trip ETA drops below the approaching threshold, Radar generates a ",(0,i.kt)("inlineCode",{parentName:"p"},"user.approaching_trip_destination")," event and Radar will fire the order. If the trip is started inside the destination geofence, Radar will fire the order immediately. In the event the ",(0,i.kt)("inlineCode",{parentName:"p"},"scheduledArrivalAt")," set on the trip is reached before the approaching threshold is crossed, the order will automatically fire. See below for how to configure these two parameters."),(0,i.kt)("h3",{id:"scheduled-arrival-at"},"Scheduled arrival at"),(0,i.kt)("p",null,"A ",(0,i.kt)("inlineCode",{parentName:"p"},"scheduledArrivalAt")," datetime is required as a fallback in the event location sharing is disabled or the device is experiencing connectivity issues."),(0,i.kt)("p",null,"You can enable auto-calculation of the ",(0,i.kt)("inlineCode",{parentName:"p"},"scheduledArrivalAt"),", which is initially set to the ",(0,i.kt)("inlineCode",{parentName:"p"},"timeReady")," value from the Olo Order Placed webhook and then continues to update based on each trip ETA calculation. This includes a backup fire delay setting which is a maximum number of minutes to push back the initial scheduled arrival at. This can be configured in ",(0,i.kt)("a",{parentName:"p",href:"https://radar.com/dashboard/settings#trips-settings"},"Trips Settings"),"."),(0,i.kt)("p",null,"As an alternative to Radar's automatic calculation, manually set the ",(0,i.kt)("inlineCode",{parentName:"p"},"scheduledArrivalAt")," either via ",(0,i.kt)("inlineCode",{parentName:"p"},"Radar.startTrip()")," in the app, ",(0,i.kt)("inlineCode",{parentName:"p"},"Radar.updateTrip()")," in the app or the ",(0,i.kt)("a",{parentName:"p",href:"/api#trips"},"Trips API")," server-side. Setting this manually will override use of Radar's auto-calculated ",(0,i.kt)("inlineCode",{parentName:"p"},"scheduledArrivalAt")," setting."),(0,i.kt)("h3",{id:"approaching-threshold"},"Approaching threshold"),(0,i.kt)("p",null,"In the Radar ",(0,i.kt)("a",{parentName:"p",href:"https://radar.com/dashboard/settings#trips-settings"},"Trips Settings"),", set the ",(0,i.kt)("em",{parentName:"p"},"Approaching threshold (minutes)")," value as the default number of minutes away from arriving that the order should automatically be fired to Olo."),(0,i.kt)("p",null,"You can enable Radar to auto-calculate the approaching threshold for ASAP orders, which is initially set to the time difference between ",(0,i.kt)("inlineCode",{parentName:"p"},"timeReady")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"timePlaced")," from the Olo Order Placed webhook."),(0,i.kt)("p",null,"As an alternative to Radar's automatic calculation, set the approaching threshold either at the store level via the ",(0,i.kt)("inlineCode",{parentName:"p"},"tripApproachingThreshold")," property in the ",(0,i.kt)("a",{parentName:"p",href:"/api#geofences"},"geofences API")," or at the order level via ",(0,i.kt)("inlineCode",{parentName:"p"},"Radar.updateTrip()")," in the app or ",(0,i.kt)("a",{parentName:"p",href:"/api#trips"},"Trips API")," server-side."),(0,i.kt)("h3",{id:"multiple-order-support"},"Multiple order support"),(0,i.kt)("p",null,"Sometimes, multiple orders are placed to the same store. To ensure that all orders receive real-time ETAs and are processed simultaneously, Radar automatically combines additional orders into an existing trip if they are headed to the same destination and the expected arrival time is within an hour. For scheduled orders, the ",(0,i.kt)("inlineCode",{parentName:"p"},"scheduledArrivalAt")," parameter included with ",(0,i.kt)("inlineCode",{parentName:"p"},"Radar.startTrip()")," is used to verify the timing. If this parameter is not provided, we assume the order is an ASAP order and use the current time instead."),(0,i.kt)("h2",{id:"expo-notifications"},"Expo notifications"),(0,i.kt)("p",null,"Radar is a Customer Arrival Olo partner and can automatically provide ",(0,i.kt)("em",{parentName:"p"},"Approaching")," and ",(0,i.kt)("em",{parentName:"p"},"Arrival")," status updates to Olo Expo based on Radar trip tracking ",(0,i.kt)("a",{parentName:"p",href:"/trip-tracking#trip-events"},"events"),". This keeps in-store teams up-to-date with real-time status updates on tracked mobile orders. Additionally, if your team utilizes the ",(0,i.kt)("em",{parentName:"p"},"Picked Up")," button in Olo Expo, this will automatically complete the Radar trip and capture completion time for trip duration and wait time analytics."),(0,i.kt)("p",null,"Configure Radar as a Customer Arrival Partnership Type via the Partner Management section of the Olo Dashboard if this was not completed to enable order firing. Select stores in the configuration where order firing will be enabled. Upon completion, reach out to your Radar account team to complete the order firing integration."),(0,i.kt)("p",null,"Finally, on the ",(0,i.kt)("a",{parentName:"p",href:"https://radar.com/dashboard/integrations"},"Integrations page")," under ",(0,i.kt)("em",{parentName:"p"},"Olo"),", you will need to set ",(0,i.kt)("em",{parentName:"p"},"Expo updates enabled")," to ",(0,i.kt)("em",{parentName:"p"},"Yes"),", and save your integration settings."))}u.isMDXComponent=!0},4861:function(e,t,a){t.Z=a.p+"assets/images/olo_webhook_configuration-458f0f2bd2b1429164c93cadd79fe93d.png"}}]);
<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-83017101-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Documentation | Radar" href="/opensearch.xml">
<script src="/documentation/js/fullstory.js" async></script><title data-react-helmet="true">Documentation - Android SDK | Radar</title><meta data-react-helmet="true" property="og:url" content="https://docs.radar.com/sdk/android"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" name="description" content="Location data infrastructure | Geofencing SDK and API"><meta data-react-helmet="true" name="fb:app_id" content="1026503440803301"><meta data-react-helmet="true" name="og:site_name" content="Radar"><meta data-react-helmet="true" name="og:type" content="website"><meta data-react-helmet="true" name="og:description" content="Location data infrastructure | Geofencing SDK and API"><meta data-react-helmet="true" name="og:image" content="https://radar.com/static/image/logo-social.png"><meta data-react-helmet="true" name="og:image:url" content="https://radar.com/static/image/logo-social.png"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="twitter:site" content="@radarlabs"><meta data-react-helmet="true" name="twitter:image" content="https://radar.com/static/image/logo.png"><meta data-react-helmet="true" name="twitter:description" content="Location data infrastructure | Geofencing SDK and API"><meta data-react-helmet="true" property="og:title" content="Android SDK"><meta data-react-helmet="true" property="twitter:title" content="Android SDK"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://docs.radar.com/sdk/android"><link data-react-helmet="true" rel="alternate" href="https://docs.radar.com/sdk/android" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.radar.com/sdk/android" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://725BOZZSYD-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.8dc96bec.css">
<link rel="preload" href="/assets/js/runtime~main.05ba97a2.js" as="script">
<link rel="preload" href="/assets/js/main.31404854.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Radar" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="Radar" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="navbar__items navbar__items--right"><a href="https://radar.com/pricing" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Pricing</a><a href="https://radar.com/contact" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Contact Sales</a><a href="https://dashboard.radar.com/login" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Dashboard</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_2Fju" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_3jCp fs-unmask"><nav class="menu thin-scrollbar menu_1DcY menuWithAnnouncementBar_3IKd"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/">Overview</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Geofencing Platform</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Maps Platform</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">SDK Reference</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/sdk">Overview</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/sdk/ios">iOS</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/sdk/android">Android</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/sdk/react-native">React Native</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/sdk/web">Web</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/sdk/cordova">Cordova</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/sdk/capacitor">Capacitor</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/sdk/flutter">Flutter</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/sdk/maui">MAUI</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/sdk/tracking">Tracking Options</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/sdk/remote-configuration">Remote Configuration</a></li></ul></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/api">API Reference</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorials</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/waypoint">Waypoint</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/faqs">FAQs</a></li><li class="menuFooter_2WBS"><a class="menuHomeButton_19K4" href="https://radar.com">Back to radar.com</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row fs-unmask"><div class="col docItemCol_2rXS"><div class="docItemContainer_1EXp"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_Ftrd"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Android SDK</h1></header><p>The Radar SDK abstracts away cross-platform differences between location services, allowing you to add geofencing, location tracking, trip tracking, geocoding, and search to your apps with just a few lines of code.</p><p>Learn how to integrate the Android SDK below. You can also see the <a href="https://github.com/radarlabs/radar-sdk-android" target="_blank" rel="noopener noreferrer">source</a> and a <a href="https://radarlabs.github.io/radar-sdk-android/" target="_blank" rel="noopener noreferrer">detailed SDK reference</a> on GitHub.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="install-sdk"></a>Install SDK<a class="hash-link" href="#install-sdk" title="Direct link to heading">#</a></h2><p>The best way to add the SDK to your project is via Gradle in Android Studio.</p><div class="alert alert_19nB alertInfo_1EfW" role="alert">For details on the latest SDK releases, see the <a href="https://github.com/radarlabs/radar-sdk-android/releases" target="_blank" rel="noopener noreferrer">releases page</a> on GitHub. You can also star ‚≠êÔ∏è and watch üëÄ the repo.</div><p>The SDK is small and typically adds less than 500 KB to your compiled app.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="gradle-recommended"></a>Gradle (recommended)<a class="hash-link" href="#gradle-recommended" title="Direct link to heading">#</a></h3><p>The SDK is distributed using <a href="https://search.maven.org/artifact/io.radar/sdk" target="_blank" rel="noopener noreferrer">Maven Central</a>.</p><p>Add the SDK to the <code>dependencies</code> section of your app&#x27;s <code>build.gradle</code> file:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">dependencies {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    implementation &#x27;io.radar:sdk:3.9.+&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="add-manually"></a>Add manually<a class="hash-link" href="#add-manually" title="Direct link to heading">#</a></h3><p>You can also add the SDK to your project manually. Download <a href="https://github.com/radarlabs/radar-sdk-android/releases" target="_blank" rel="noopener noreferrer">the current release</a> and unzip the package. The package contains an <code>aar</code> file. In Android Studio, add the SDK as a module using <em>File</em> &gt; <em>New Module</em> &gt; <em>Import .JAR/.AAR Package</em>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="dependencies"></a>Dependencies<a class="hash-link" href="#dependencies" title="Direct link to heading">#</a></h2><p>The SDK depends on <a href="https://developer.android.com/training/location" target="_blank" rel="noopener noreferrer">Google Play Services Location</a> version <code>21.0.1</code> and higher, which will be automatically included as a transitive dependency by Gradle. Learn more about managing dependencies in Gradle <a href="https://docs.gradle.org/current/userguide/core_dependency_management.html" target="_blank" rel="noopener noreferrer">here</a>.</p><p>If you haven&#x27;t already configured your project for Google Play Services, follow the instructions <a href="https://developers.google.com/android/guides/google-services-plugin" target="_blank" rel="noopener noreferrer">here</a>.</p><p>As of version <code>3.8.0</code>, the SDK uses <code>play-services-location:21.0.1</code>. If another dependency that depends on <code>play-services-location</code> is causing version conflicts, you can exclude the transitive dependencies and include the <code>play-services-location</code> dependency at the project level instead. We strongly recommend using <code>21.0.1</code> or higher.</p><p>As an alternative to Google Play Services, the SDK also optionally supports <a href="#huawei">Huawei Mobile Services</a>.</p><p>The SDK currently supports API level <code>16</code> or above.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="initialize-sdk"></a>Initialize SDK<a class="hash-link" href="#initialize-sdk" title="Direct link to heading">#</a></h2><p>When your app starts, in application <code>onCreate()</code>, initialize the SDK with your publishable API key, found on the <a href="https://radar.com/dashboard/settings" target="_blank" rel="noopener noreferrer">Settings page</a>.</p><p>Use your <code>Test Publishable</code> key for testing and non-production environments. Use your <code>Live Publishable</code> key for production environments.</p><div class="alert alert_19nB alertWarning_1tiz" role="alert">Note that you should always use your publishable API keys, which are restricted in scope, in the SDK. Do not use your secret API keys, which are unrestricted in scope, in any client-side code.</div><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">import io.radar.sdk.Radar;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MyApplication extends Application {</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onCreate() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        super.onCreate();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Radar.initialize(this, &quot;prj_test_pk_...&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">import io.radar.sdk.Radar</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">class MyApplication : Application() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    override fun onCreate() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        super.onCreate()</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Radar.initialize(this, &quot;prj_test_pk_...&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="request-permissions"></a>Request permissions<a class="hash-link" href="#request-permissions" title="Direct link to heading">#</a></h2><p>Radar respects <a href="https://developer.android.com/training/permissions/requesting.html" target="_blank" rel="noopener noreferrer">standard Android location permissions</a>.</p><p>For foreground tracking or trip tracking with continuous mode, Radar requires the <code>ACCESS_FINE_LOCATION</code> permission for precise location and/or the <code>ACCESS_COARSE_LOCATION</code> permission for <a href="https://developer.android.com/about/versions/12/approximate-location" target="_blank" rel="noopener noreferrer">approximate location</a>. These permissions are automatically added by the SDK manifest along with the <code>INTERNET</code>, <code>ACCESS_NETWORK_STATE</code>, <code>FOREGROUND_SERVICE</code>, and <code>RECEIVE_BOOT_COMPLETED</code> permissions.</p><p>For background tracking or geofencing with responsive mode, and if targeting API level <code>29</code> or above, Radar also requires the new <code>ACCESS_BACKGROUND_LOCATION</code> permission. You must add the <code>ACCESS_BACKGROUND_LOCATION</code> permission to your manifest manually. To start a <a href="https://developer.android.com/training/location/permissions#foreground" target="_blank" rel="noopener noreferrer">foreground service</a> or use the <code>continuous</code> tracking preset, you must add the <code>FOREGROUND_SERVICE_LOCATION</code> permission:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W xml"><pre tabindex="0" class="prism-code language-xml codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">manifest</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">xmlns:</span><span class="token tag attr-name" style="color:#00a4db">android</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">http://schemas.android.com/apk/res/android</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">uses-permission</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">android:</span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">android.permission.INTERNET</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">uses-permission</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">android:</span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">android.permission.ACCESS_NETWORK_STATE</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">uses-permission</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">android:</span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">android.permission.RECEIVE_BOOT_COMPLETED</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">uses-permission</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">android:</span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">android.permission.FOREGROUND_SERVICE</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">uses-permission</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">android:</span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">android.permission.ACCESS_FINE_LOCATION</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">uses-permission</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">android:</span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">android.permission.ACCESS_COARSE_LOCATION</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">uses-permission</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">android:</span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">android.permission.ACCESS_BACKGROUND_LOCATION</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">uses-permission</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">android:</span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">android.permission.FOREGROUND_SERVICE_LOCATION</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">manifest</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div><p>To request foreground and background permissions:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">import android.Manifest;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import android.app.AlertDialog;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import android.content.DialogInterface;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import android.content.pm.PackageManager;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import android.os.Build;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import androidx.core.app.ActivityCompat;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import io.radar.sdk.Radar;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MainActivity extends AppCompatActivity {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  private final int FOREGROUND_LOCATION_PERMISSION_CODE = 1;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  private final int BACKGROUND_LOCATION_PERMISSION_CODE = 2;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  protected void onCreate(Bundle savedInstanceState) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    super.onCreate(savedInstanceState);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Radar.initialize(this, &quot;prj_test_pk_..&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    requestLocationPermissions();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  private void requestLocationPermissions() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      if (Build.VERSION.SDK_INT == Build.VERSION_CODES.Q) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_BACKGROUND_LOCATION}, BACKGROUND_LOCATION_PERMISSION_CODE);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION}, FOREGROUND_LOCATION_PERMISSION_CODE);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    super.onRequestPermissionsResult(requestCode, permissions, grantResults);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (requestCode == FOREGROUND_LOCATION_PERMISSION_CODE) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        askPermissionForBackgroundUsage();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      return;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  private void askPermissionForBackgroundUsage() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, Manifest.permission.ACCESS_BACKGROUND_LOCATION)) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      new AlertDialog.Builder(this)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        .setTitle(&quot;Background location permissions needed&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        .setMessage(&quot;Background location permissions needed, tap \&quot;Allow all the time\&quot; on the next screen&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        .setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          public void onClick(DialogInterface dialog, int which) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.ACCESS_BACKGROUND_LOCATION}, BACKGROUND_LOCATION_PERMISSION_CODE);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        })</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        .create()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        .show();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">import android.Manifest</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import android.app.AlertDialog</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import android.content.pm.PackageManager</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import android.os.Build</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import androidx.core.app.ActivityCompat</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import io.radar.sdk.Radar</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">class MainActivity : AppCompatActivity() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  private val foregroundLocationPermissionsRequestCode = 1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  private val backgroundLocationPermissionsRequestCode = 2</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  override fun onCreate(savedInstanceState: Bundle?) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    super.onCreate(savedInstanceState)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Radar.initialize(this, &quot;prj_test_pk_...&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    requestLocationPermissions()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  private fun requestLocationPermissions() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      if (Build.VERSION.SDK_INT == Build.VERSION_CODES.Q) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        ActivityCompat.requestPermissions(this, arrayOf(Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_BACKGROUND_LOCATION), backgroundLocationPermissionsRequestCode)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        ActivityCompat.requestPermissions(this, arrayOf(Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION), foregroundLocationPermissionsRequestCode)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;String&gt;, grantResults: IntArray) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    super.onRequestPermissionsResult(requestCode, permissions, grantResults)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (requestCode == foregroundLocationPermissionsRequestCode &amp;&amp; grantResults.isNotEmpty() &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.ACCESS_BACKGROUND_LOCATION)) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        AlertDialog.Builder(this)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          .setTitle(&quot;Background location permissions needed&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          .setMessage(&quot;Background location permission needed, tap \&quot;Allow all the time\&quot; on the next screen&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          .setPositiveButton(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;OK&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          ) { _, _ -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            ActivityCompat.requestPermissions(this, arrayOf(Manifest.permission.ACCESS_BACKGROUND_LOCATION), backgroundLocationPermissionsRequestCode)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          .create()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          .show()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><div class="alert alert_19nB alertInfo_1EfW" role="alert">Build and run the app to make sure permissions prompts are displayed!</div><div class="alert alert_19nB alertInfo_1EfW" role="alert">Not seeing permissions prompts? First, make sure you&#x27;ve added permissions to your manifest. Second, check your device settings to make sure you haven&#x27;t already granted location permissions.</div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="foreground-tracking"></a>Foreground tracking<a class="hash-link" href="#foreground-tracking" title="Direct link to heading">#</a></h2><p>Once the user has granted foreground permissions, you can track the user&#x27;s location in the foreground.</p><p>To track the user&#x27;s location in the foreground, call:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.trackOnce(new RadarTrackCallback() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onComplete(RadarStatus status, Location location, RadarEvent[] events, RadarUser user) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // do something with location, events, user</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.trackOnce { status, location, events, user -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something with location, events, user</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><p>You may provide an optional instance of <code>RadarTrackCallback</code> with an implementation of <code>onComplete()</code> that receives the request status, the user&#x27;s location, the events generated, if any, and the user. The request status can be:</p><ul><li><strong><code>RadarStatus.SUCCESS</code></strong>: success</li><li><strong><code>RadarStatus.ERROR_PUBLISHABLE_KEY</code></strong>: SDK not initialized</li><li><strong><code>RadarStatus.ERROR_PERMISSIONS</code></strong>: location permissions not granted</li><li><strong><code>RadarStatus.ERROR_LOCATION</code></strong>: location services error or timeout (10 seconds)</li><li><strong><code>RadarStatus.ERROR_NETWORK</code></strong>: network error or timeout (10 seconds)</li><li><strong><code>RadarStatus.ERROR_BAD_REQUEST</code></strong>: bad request (missing or invalid params)</li><li><strong><code>RadarStatus.ERROR_UNAUTHORIZED</code></strong>: unauthorized (invalid API key)</li><li><strong><code>RadarStatus.ERROR_PAYMENT_REQUIRED</code></strong>: payment required (organization disabled or usage exceeded)</li><li><strong><code>RadarStatus.ERROR_FORBIDDEN</code></strong>: forbidden (insufficient permissions)</li><li><strong><code>RadarStatus.ERROR_NOT_FOUND</code></strong>: not found</li><li><strong><code>RadarStatus.ERROR_RATE_LIMIT</code></strong>: too many requests (<a href="/api#track">rate limit</a> exceeded)</li><li><strong><code>RadarStatus.ERROR_SERVER</code></strong>: internal server error</li><li><strong><code>RadarStatus.ERROR_UNKNOWN</code></strong>: unknown error</li></ul><div class="alert alert_19nB alertWarning_1tiz" role="alert">Build and run the app, then find your user on the <a href="https://radar.com/dashboard/users" target="_blank" rel="noopener noreferrer">Users page</a>! To trigger an event, you&#x27;ll need to <a href="https://radar.com/dashboard/geofencing/geofences" target="_blank" rel="noopener noreferrer">create a geofence</a> if you haven&#x27;t already. Not seeing your user on the Users page? Check <code>status</code> in the callback to see what went wrong.</div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="background-tracking-for-geofencing"></a>Background tracking for geofencing<a class="hash-link" href="#background-tracking-for-geofencing" title="Direct link to heading">#</a></h2><p>Once you have initialized the SDK and the user has authorized background permissions, you can start tracking the user&#x27;s location in the background.</p><p>The SDK supports custom tracking options as well as three presets.</p><p>For geofencing, we recommend using <code>RadarTrackingOptions.RESPONSIVE</code>. This preset detects whether the device is stopped or moving. When moving, it tells the SDK to send location updates to the server every 2-3 minutes. When stopped, it tells the SDK to shut down to save battery. Once stopped, the device will need to move more than 100 meters to wake up and start moving again.</p><p>Assuming the user has authorized background permissions, background tracking will work even if the app has been backgrounded or killed, as Android location services will wake up the app to deliver events and the SDK uses <code>JobScheduler</code> to schedule network requests.</p><div class="alert alert_19nB alertWarning_1tiz" role="alert">Note that location updates may be delayed significantly by <a href="https://developer.android.com/training/monitoring-device-state/doze-standby" target="_blank" rel="noopener noreferrer">Doze Mode</a>, <a href="https://developer.android.com/training/monitoring-device-state/doze-standby" target="_blank" rel="noopener noreferrer">App Standby</a>, and <a href="https://developer.android.com/about/versions/oreo/background-location-limits" target="_blank" rel="noopener noreferrer">Background Location Limits</a>, or if the device has connectivity issues, low battery, or wi-fi disabled.<em><strong>In practice, location updates may be sent to the server every 5-10 minutes while moving, faster if you power on the screen or if other apps are requesting location, and slower otherwise.</strong></em> These restrictions apply to all apps using location services, not just Radar.</div><div class="alert alert_19nB alertInfo_1EfW" role="alert">Though we recommend using presets for most use cases, you can modify the presets. See the <a href="/sdk/tracking">tracking options reference</a>.</div><p>To start tracking for geofencing, call:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.startTracking(RadarTrackingOptions.RESPONSIVE);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.startTracking(RadarTrackingOptions.RESPONSIVE)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><p>To determine whether tracking has been started, call:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.isTracking();</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.isTracking()</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><p>To stop tracking (e.g., when the user logs out), call:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.stopTracking();</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.stopTracking()</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><p>You only need to call these methods once, as these settings will be persisted across app sessions.</p><div class="alert alert_19nB alertWarning_1tiz" role="alert">To test, go for a walk or a drive! Not seeing location updates or events? Remember that, once stopped, the device will need to move more than 100 meters to wake up and start moving again. Also, check your device settings to make sure you&#x27;ve granted background location permissions.</div><div class="alert alert_19nB alertInfo_1EfW" role="alert">Don&#x27;t forget! You can always find your user on the <a href="https://radar.com/dashboard/users" target="_blank" rel="noopener noreferrer">Users page</a> or events on the <a href="https://radar.com/dashboard/events" target="_blank" rel="noopener noreferrer">Events page</a>. To trigger an event, you&#x27;ll need to <a href="https://radar.com/dashboard/geofencing/geofences" target="_blank" rel="noopener noreferrer">create a geofence</a> if you haven&#x27;t already.</div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="background-tracking-for-trips"></a>Background tracking for trips<a class="hash-link" href="#background-tracking-for-trips" title="Direct link to heading">#</a></h2><p>For trips, we recommend using <code>RadarTrackingOptions.continuous</code>. This preset tells the SDK to send location updates to the server every 30 seconds, regardless of whether the device is moving.</p><div class="alert alert_19nB alertInfo_1EfW" role="alert">To avoid <a href="https://developer.android.com/about/versions/oreo/background-location-limits" target="_blank" rel="noopener noreferrer">Background Location Limits</a>, the continuous preset starts a <a href="https://developer.android.com/guide/components/foreground-services" target="_blank" rel="noopener noreferrer">foreground service</a> with a notification while tracking.  When the foreground service with a notification is running, only foreground permissions are required for tracking. See the <a href="/sdk/tracking#android-foreground-service-options">tracking options reference</a> to adjust the foreground service notification copy and behavior.</div><p>Tracking for the duration of a trip is started or updated by including tracking options in the <code>startTrip</code> call:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.startTrip(tripOptions, RadarTrackingOptions.CONTINUOUS, new Radar.RadarTripCallback() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onComplete(@NonNull Radar.RadarStatus status, @Nullable RadarTrip trip, @Nullable RadarEvent[] events) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      if (status == Radar.RadarStatus.SUCCESS) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // do something</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // handle error</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.startTrip(tripOptions, RadarTrackingOptions.CONTINUOUS) { status, trip, events -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (status == Radar.RadarStatus.SUCCESS) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // handle error</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><p>If tracking was disabled before the trip started, it will stop after the trip ends. Otherwise, it will revert to the tracking options in use before the trip started:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">// Complete trip</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.completeTrip(new Radar.RadarTripCallback() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onComplete(Radar.RadarStatus radarStatus, RadarTrip radarTrip, RadarEvent[] radarEvents) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // do something</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// Cancel trip</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.cancelTrip(new Radar.RadarTripCallback() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onComplete(Radar.RadarStatus radarStatus, RadarTrip radarTrip, RadarEvent[] radarEvents) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // do something</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">// Complete trip</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.completeTrip { status, trip, events -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// Cancel trip</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.cancelTrip { status, trip, events -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><p>Learn more about starting, completing, and canceling trips in the <a href="/trip-tracking">trip tracking documentation</a>.</p><div class="alert alert_19nB alertInfo_1EfW" role="alert">Don&#x27;t forget! You can always find your user on the <a href="https://radar.com/dashboard/users" target="_blank" rel="noopener noreferrer">Users page</a> or events on the <a href="https://radar.com/dashboard/events" target="_blank" rel="noopener noreferrer">Events page</a>. To trigger an event, you&#x27;ll need to <a href="https://radar.com/dashboard/geofencing/geofences" target="_blank" rel="noopener noreferrer">create a geofence</a> or <a href="/trip-tracking">start a trip</a> if you haven&#x27;t already.</div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="mock-tracking-for-testing"></a>Mock tracking for testing<a class="hash-link" href="#mock-tracking-for-testing" title="Direct link to heading">#</a></h2><p>Can&#x27;t go for a walk or a drive? You can simulate a sequence of location updates. For example, to simulate a sequence of 10 location updates every 3 seconds by car from an origin to a destination, call:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Location origin = new Location(&quot;mock&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">origin.setLatitude(40.78382);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">origin.setLongitude(-73.97536);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Location destination = new Location(&quot;mock&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">destination.setLatitude(40.70390);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">destination.setLongitude(-73.98670);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.mockTracking(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    origin,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    destination,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Radar.RadarRouteMode.CAR,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    10,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    3,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    new RadarTrackCallback() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        public void onComplete(RadarStatus status, Location location, RadarEvent[] events, RadarUser user) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // do something with location, events, user</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">val origin = Location(&quot;mock&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">origin.latitude = 40.78382</span></span><span class="token-line" style="color:#393A34"><span class="token plain">origin.longitude = -73.97536</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">val destination = Location(&quot;mock&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">destination.latitude = 40.70390</span></span><span class="token-line" style="color:#393A34"><span class="token plain">destination.longitude = -73.98670</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.mockTracking(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    origin,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    destination,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Radar.RadarRouteMode.CAR,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    10,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    3</span></span><span class="token-line" style="color:#393A34"><span class="token plain">) { status, location, events, user -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something with location, events, user</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><div class="alert alert_19nB alertInfo_1EfW" role="alert">Don&#x27;t forget! You can always find your user on the <a href="https://radar.com/dashboard/users" target="_blank" rel="noopener noreferrer">Users page</a> or events on the <a href="https://radar.com/dashboard/events" target="_blank" rel="noopener noreferrer">Events page</a>. To trigger an event, you&#x27;ll need to <a href="https://radar.com/dashboard/geofencing/geofences" target="_blank" rel="noopener noreferrer">create a geofence</a> if you haven&#x27;t already.</div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="location-metadata"></a>Location metadata<a class="hash-link" href="#location-metadata" title="Direct link to heading">#</a></h2><p>The SDK can also pass along information like motion activity detection, speed and heading via the location metadata field. Turn on <code>useLocationMetadata</code> in your <code>sdkConfiguration</code> to enable this feature.
Include permissions for motion activity detection in your manifest</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W xml"><pre tabindex="0" class="prism-code language-xml codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">manifest</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">xmlns:</span><span class="token tag attr-name" style="color:#00a4db">android</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">http://schemas.android.com/apk/res/android</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">uses-permission</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">android:</span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">com.google.android.gms.permission.ACTIVITY_RECOGNITION</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">uses-permission</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">android:</span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">android.permission.ACTIVITY_RECOGNITION</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">manifest</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div><p>You will need to manually prompt for motion permissions with</p><p>ActivityCompat.requestPermissions(this, arrayOf(Manifest.permission.ACTIVITY_RECOGNITION), 3)</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACTIVITY_RECOGNITION}, ACTIVITY_RECOGNITION_PERMISSION_CODE);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">ActivityCompat.requestPermissions(this, arrayOf(Manifest.permission.ACTIVITY_RECOGNITION), ACTIVITY_RECOGNITION_PERMISSION_CODE)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="listening-for-events-with-a-receiver"></a>Listening for events with a receiver<a class="hash-link" href="#listening-for-events-with-a-receiver" title="Direct link to heading">#</a></h2><p>To listen for events, location updates, and errors client-side, create a class that extends <code>RadarReceiver</code>. Then, pass in an instance of your receiver when initializing the SDK in application <code>onCreate()</code>.</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">import io.radar.sdk.Radar;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MyApplication extends Application {</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onCreate() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        super.onCreate();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        MyRadarReceiver receiver = new MyRadarReceiver();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Radar.initialize(this, &quot;prj_test_pk_...&quot;, receiver, Radar.RadarLocationServicesProvider.GOOGLE);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">import io.radar.sdk.Radar</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">class MyApplication : Application() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    override fun onCreate() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        super.onCreate()</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        val receiver = MyRadarReceiver()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Radar.initialize(this, &quot;prj_test_pk_...&quot;, receiver, Radar.RadarLocationServicesProvider.GOOGLE)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><div class="alert alert_19nB alertWarning_1tiz" role="alert">The receiver should be instantiated only once and set before tracking begins.</div><p>Your receiver should implement the following:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">public class MyRadarReceiver extends RadarReceiver {</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onEventsReceived(Context context, RadarEvent[] events, RadarUser user) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // do something with events, user</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onLocationUpdated(Context context, Location location, RadarUser user) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // do something with location, user</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onClientLocationUpdated(Context context, Location location, boolean stopped, RadarLocationSource source) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // do something with location, stopped, source</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onError(Context context, RadarStatus status) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // do something with status</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onLog(Context context, String message) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // print message for debug logs</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onLocationPermissionStatusUpdated(context: Context,status: RadarLocationPermissionStatus) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      // do something with location permission status </span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">class MyRadarReceiver: RadarReceiver() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    override fun onEventsReceived(context: Context, events: Array&lt;RadarEvent&gt;, user: RadarUser?) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // do something with events, user</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    override fun onLocationUpdated(context: Context, location: Location, user: RadarUser) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // do something with location, user</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    override fun onClientLocationUpdated(context: Context, location: Location, stopped: Boolean, source: RadarLocationSource) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // do something with location, stopped, source</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    override fun onError(context: Context, status: RadarStatus) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // do something with status</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    override fun onLog(context: Context, message: String) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // print message for debug logs</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    overide fun onLocationPermissionStatusUpdated(context: Context,status: RadarLocationPermissionStatus) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      // do something with location permission status </span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><div class="alert alert_19nB alertInfo_1EfW" role="alert">To listen for events server-side instead, add a <a href="/integrations/webhooks">webhook</a> or enable an <a href="/integrations">integration</a>.</div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="manual-tracking"></a>Manual tracking<a class="hash-link" href="#manual-tracking" title="Direct link to heading">#</a></h2><p>If you want to manage location services yourself, you can manually update the user&#x27;s location instead by calling:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.trackOnce(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    location,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    new RadarTrackCallback() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        public void onComplete(RadarStatus status, Location location, RadarEvent[] events, RadarUser user) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // do something with location, events, user</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.trackOnce(location) { status, location, events, user -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something with location, events, user</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><p>where <code>location</code> is a <code>Location</code> instance with a valid latitude, longitude, and accuracy.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="identify-user"></a>Identify user<a class="hash-link" href="#identify-user" title="Direct link to heading">#</a></h2><p>The SDK automatically collects <code>installId</code> (a GUID generated on fresh install) and <code>deviceId</code> (<a href="https://developer.android.com/reference/android/provider/Settings.Secure.html#ANDROID_ID" target="_blank" rel="noopener noreferrer">Android ID</a>).</p><p>You can also assign a custom <code>userId</code>, also called <em>External ID</em> in the dashboard. To set a custom <code>userId</code>, call:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.setUserId(userId);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.setUserId(userId)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><p>where <code>userId</code> is a stable unique ID for the user.</p><div class="alert alert_19nB alertWarning_1tiz" role="alert">Do not send any PII, like names, email addresses, or publicly available IDs, for <code>userId</code>. See <a href="/faqs#what-are-privacy-best-practices-for-radar">privacy best practices</a> for more information.</div><p>To set a dictionary of custom metadata for the user, call:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.setMetadata(metadata);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.setMetadata(metadata)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><p>where <code>metadata</code> is a <code>JSONObject</code> with up to 16 keys and values of type string, boolean, or number.</p><p>Finally, to set an optional description for the user, displayed in the dashboard, call:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.setDescription(description);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.setDescription(description)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><p>You only need to call these methods once, as these settings will be persisted across app sessions.</p><p>Learn more about when Radar creates new user records <a href="/faqs#what-is-a-unique-user-when-does-radar-create-a-new-user-record">here</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="debug-logging"></a>Debug logging<a class="hash-link" href="#debug-logging" title="Direct link to heading">#</a></h2><p>By default, only critical errors are logged to the console. To enable debug logging, call:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.setLogLevel(Radar.RadarLogLevel.DEBUG);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.setLogLevel(Radar.RadarLogLevel.DEBUG)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><p>The Android SDK automatically logs lifecycle events without the additional setup required on iOS.</p><div class="alert alert_19nB alertInfo_1EfW" role="alert">Contact your customer success manager to enable logging app lifecycle events.</div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="other-apis"></a>Other APIs<a class="hash-link" href="#other-apis" title="Direct link to heading">#</a></h2><p>The Android SDK also exposes APIs for beacons, anonymous context, geocoding, search, and distance.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="beacons"></a>Beacons<a class="hash-link" href="#beacons" title="Direct link to heading">#</a></h3><p>To range and monitor <a href="/beacons">beacons</a>, you must <a href="https://developer.android.com/about/versions/12/features/bluetooth-permissions#declare-new-permissions" target="_blank" rel="noopener noreferrer">request Bluetooth permissions</a>. If targeting API level <code>31</code> or above, both <code>BLUETOOTH_CONNECT</code> and <code>BLUETOOTH_SCAN</code> are required runtime permissions.</p><p>The following bluetooth permissions must be added to your manifest:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W xml"><pre tabindex="0" class="prism-code language-xml codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">manifest</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">xmlns:</span><span class="token tag attr-name" style="color:#00a4db">android</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">http://schemas.android.com/apk/res/android</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">uses-permission</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">android:</span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">android.permission.BLUETOOTH</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">uses-permission</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">android:</span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">android.permission.BLUETOOTH_ADMIN</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">uses-permission</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">android:</span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">android.permission.BLUETOOTH_CONNECT</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">uses-permission</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">android:</span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">android.permission.BLUETOOTH_SCAN</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">manifest</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div><p>To range beacons in the foreground, call:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.trackOnce(RadarTrackingOptionsDesiredAccuracy.HIGH, true, new RadarTrackCallback() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  public void onComplete(RadarStatus status, Location location, RadarEvent[] events, RadarUser user) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      // do something with user.beacons</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.trackOnce(RadarTrackingOptionsDesiredAccuracy.HIGH, true) { status, location, events, user -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something with user.beacons</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><p>To monitor beacons in the background, update your tracking options:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">RadarTrackingOptions trackingOptions = RadarTrackingOptions.RESPONSIVE;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">trackingOptions.beacons = true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.startTracking(trackingOptions);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">val trackingOptions = RadarTrackingOptions.RESPONSIVE</span></span><span class="token-line" style="color:#393A34"><span class="token plain">trackingOptions.beacons = true</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.startTracking(trackingOptions)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><p>Learn more about <a href="/beacons">beacons</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="get-location"></a>Get location<a class="hash-link" href="#get-location" title="Direct link to heading">#</a></h3><p>Get a single location update without sending it to the server:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.getLocation(new RadarLocationCallback() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onComplete(RadarStatus status, Location location, boolean stopped) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // do something with location</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.getLocation { status, location, stopped -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something with location</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="context"></a>Context<a class="hash-link" href="#context" title="Direct link to heading">#</a></h3><p>With the <a href="/api#context">context API</a>, get context for a location without sending device or user identifiers to the server:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.getContext(new RadarContextCallback() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onComplete(RadarStatus status, Location location, RadarContext context) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // do something with context</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.getContext { status, location, context -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something with context</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="geocoding"></a>Geocoding<a class="hash-link" href="#geocoding" title="Direct link to heading">#</a></h3><p>With the <a href="/api#forward-geocode">forward geocoding API</a>, geocode an address, converting address to coordinates:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.geocode(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;20 jay street brooklyn ny&quot;, // query</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    new RadarGeocodeCallback() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        public void onComplete(RadarStatus status, RadarAddress[] addresses) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // do something with addresses</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.geocode(&quot;20 jay street brooklyn ny&quot;) { status, addresses -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something with addresses</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><p>With the <a href="/api#reverse-geocode">reverse geocoding API</a>, reverse geocode a location, converting coordinates to address:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.reverseGeocode(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    location,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    new RadarGeocodeCallback() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        public void onComplete(RadarStatus status, RadarAddress[] addresses) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // do something with addresses</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.reverseGeocode(location) { status, addresses -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something with addresses</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><p>With the <a href="/api#ip-geocode">IP geocoding API</a>, geocode the device&#x27;s current IP address, converting IP address to city, state, and country:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.ipGeocode(new RadarIpGeocodeCallback() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onComplete(RadarStatus status, RadarAddress address, boolean proxy) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // do something with address, proxy</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.ipGeocode { status, address, proxy -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something with address, proxy</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="search"></a>Search<a class="hash-link" href="#search" title="Direct link to heading">#</a></h3><p>With the <a href="/api#autocomplete">autocomplete API</a>, autocomplete partial addresses and place names, sorted by relevance:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.autocomplete(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;brooklyn roasting&quot;, // query</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    near,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    10, // limit</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    new RadarGeocodeCallback() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        public void onComplete(RadarStatus status, RadarAddress[] addresses) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // do something with addresses</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.autocomplete(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;brooklyn roasting&quot;, // query</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    near,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    10 // limit</span></span><span class="token-line" style="color:#393A34"><span class="token plain">) { status, addresses -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something with addresses</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><p>With the <a href="/api#search-geofences">geofence search API</a>, search for geofences near a location, sorted by distance:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.searchGeofences(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    near,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    1000, // radius (meters)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {&quot;store&quot;}, // tags</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    null, //metadata</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    10, // limit</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    new RadarSearchGeofencesCallback() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        public void onComplete(RadarStatus status, Location location, RadarGeofence[] geofences) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // do something with geofences</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.searchGeofences(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    near,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    1000, // radius (meters)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    arrayOf(&quot;store&quot;), // tags</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    null, // metadata</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    10 // limit</span></span><span class="token-line" style="color:#393A34"><span class="token plain">) { status, location, geofences -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something with geofences</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><p>With the <a href="/api#search-places">places search API</a>, search for places near a location, sorted by distance:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.searchPlaces(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    near,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    1000, // radius (meters)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {&quot;starbucks&quot;}, // chains</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    null, // categories</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    null, //groups</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    10, // limit</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    new RadarSearchPlacesCallback() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      public void onComplete(RadarStatus status, Location location, RadarPlace[] places) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          // do something with places</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.searchPlaces(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    near,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    1000, // radius (meters)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    arrayOf(&quot;starbucks&quot;), // chains</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    null, // categories</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    null, // groups</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    10 // limit</span></span><span class="token-line" style="color:#393A34"><span class="token plain">) { status, location, places -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something with places</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><p>With the <a href="/api#validate-an-address">address validation API</a> (currently in beta), validate a structured address in the US or Canada:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.validateAddress(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    address, // query</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    new RadarValidateAddressCallback() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        public void onComplete(RadarStatus status, RadarAddress address, ValidationResult result) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // do something with validation result and address</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.validateAddress(address) { status, address, result -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something with validation result and address</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="distance"></a>Distance<a class="hash-link" href="#distance" title="Direct link to heading">#</a></h3><p>With the <a href="/api#distance">distance API</a>, calculate the travel distance and duration from an origin to a destination:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.getDistance(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    origin,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    destination,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    EnumSet.of(RadarRouteMode.FOOT, RadarRouteMode.CAR),</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    RadarRouteUnits.IMPERIAL,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    new RadarRouteCallback() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        public void onComplete(RadarStatus status, RadarRoutes routes) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // do something with routes</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.getDistance(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    origin,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    destination,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    EnumSet.of(RadarRouteMode.FOOT, RadarRouteMode.CAR),</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    RadarRouteUnits.IMPERIAL</span></span><span class="token-line" style="color:#393A34"><span class="token plain">) { status, routes -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  // do something with routes</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="matrix"></a>Matrix<a class="hash-link" href="#matrix" title="Direct link to heading">#</a></h3><p>With the <a href="/api#matrix">matrix API</a>, calculate the travel distance and duration between multiple origins and destinations for up to 25 routes:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.getMatrix(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    origins,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    destinations,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    RadarRouteMode.CAR,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    RadarRouteUnits.IMPERIAL,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    new RadarRouteCallback() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        public void onComplete(RadarStatus status, RadarRouteMatrix matrix) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // do something with matrix.routeBetween(originIndex, destinationIndex)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.getMatrix(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    origins,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    destinations,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    RadarRouteMode.CAR,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    RadarRouteUnits.IMPERIAL</span></span><span class="token-line" style="color:#393A34"><span class="token plain">) { status, routes -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  // do something with matrix.routeBetween(originIndex, destinationIndex)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="conversions"></a>Conversions<a class="hash-link" href="#conversions" title="Direct link to heading">#</a></h3><p>With the <a href="/api#log-a-conversion">conversions API</a>, log a conversion, such as a purchase or signup, to analyze alongside your app&#x27;s location activity:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.logConversion(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    name,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    new RadarLogConversionCallback() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        public void onComplete(RadarStatus status, RadarEvent event) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // do something with the conversion event</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// Conversion with revenue</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.logConversion(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    name,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    revenue,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    new RadarLogConversionCallback() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        public void onComplete(RadarStatus status, RadarEvent event) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // do something with the conversion event</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.logConversion(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    name,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">) { status, event -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something with the conversion event</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// Conversion with revenue</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.logConversion(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    name,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    revenue,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">) { status, event -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something with the conversion event</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="notifications"></a>Notifications<a class="hash-link" href="#notifications" title="Direct link to heading">#</a></h2><p>With <code>setNotificationOptions</code>, set the icon and the background color of foreground service and event notifications:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">// Set both foreground service and event notifications</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">JSONObject notificationOptions = new JSONObject();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">try {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  notificationOptions.put(&quot;iconString&quot;, &quot;icon_1&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  notificationOptions.put(&quot;iconColor&quot;, &quot;color_1&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">} catch (JSONException e) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  e.printStackTrace();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.setNotificationOptions(RadarNotificationsOptions.fromJson(notificationOptions));</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// Or, set the foreground service notification and event notifications separately</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">JSONObject notificationOptions = new JSONObject();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">try {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  notificationOptions.put(&quot;foregroundServiceIconString&quot;, &quot;icon_1&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  notificationOptions.put(&quot;foregroundServiceIconColor&quot;, &quot;color_1&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  notificationOptions.put(&quot;eventIconString&quot;, &quot;icon_2&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  notificationOptions.put(&quot;eventIconColor&quot;, &quot;color_2&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">} catch (JSONException e) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  e.printStackTrace();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.setNotificationOptions(RadarNotificationsOptions.fromJson(notificationOptions));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">// Set both foreground service and event notifications</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.setNotificationOptions(RadarNotificationsOptions(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;icon_1&quot;, // iconString</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;color_1&quot;, // iconColor</span></span><span class="token-line" style="color:#393A34"><span class="token plain">))</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// Or, set the foreground service notification and event notifications separately</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Radar.setNotificationOptions(RadarNotificationsOptions(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  foregroundServiceIconString = &quot;icon_2&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  foregroundServiceIconColor = &quot;color_2&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  eventIconString = &quot;icon_3&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  eventIconColor = &quot;color_3&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">))</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="huawei"></a>Huawei<a class="hash-link" href="#huawei" title="Direct link to heading">#</a></h2><p>By default, the SDK <a href="#dependencies">depends on</a> <a href="https://developer.android.com/training/location" target="_blank" rel="noopener noreferrer">Google Play Services Location</a>. However, you can use <a href="https://developer.huawei.com/consumer/en/hms/huawei-locationkit/" target="_blank" rel="noopener noreferrer">Huawei Mobile Services Location Kit</a> instead.</p><p>If you haven&#x27;t already configured your project for Huawei Mobile Services, follow the instructions <a href="https://developer.huawei.com/consumer/en/doc/development/HMSCore-Guides/integrate-as-sdk-0000001050168936" target="_blank" rel="noopener noreferrer">here</a>.</p><p>Then, add the dependency to your app&#x27;s <code>build.gradle</code> file:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">dependencies {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    implementation &#x27;com.huawei.hms:location:6.4.0.300&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div><p>Finally, pass in <code>RadarLocationServicesProvider.HUAWEI</code> when you initialize the SDK:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.initialize(this, publishableKey, receiver, RadarLocationServicesProvider.HUAWEI);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">Radar.initialize(context, publishableKey, receiver, RadarLocationServicesProvider.HUAWEI)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/radarlabs/docs/edit/main/docs/sdk/android.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/sdk/ios"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ iOS</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/sdk/react-native"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">React Native ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#install-sdk" class="table-of-contents__link">Install SDK</a><ul><li><a href="#gradle-recommended" class="table-of-contents__link">Gradle (recommended)</a></li><li><a href="#add-manually" class="table-of-contents__link">Add manually</a></li></ul></li><li><a href="#dependencies" class="table-of-contents__link">Dependencies</a></li><li><a href="#initialize-sdk" class="table-of-contents__link">Initialize SDK</a></li><li><a href="#request-permissions" class="table-of-contents__link">Request permissions</a></li><li><a href="#foreground-tracking" class="table-of-contents__link">Foreground tracking</a></li><li><a href="#background-tracking-for-geofencing" class="table-of-contents__link">Background tracking for geofencing</a></li><li><a href="#background-tracking-for-trips" class="table-of-contents__link">Background tracking for trips</a></li><li><a href="#mock-tracking-for-testing" class="table-of-contents__link">Mock tracking for testing</a></li><li><a href="#location-metadata" class="table-of-contents__link">Location metadata</a></li><li><a href="#listening-for-events-with-a-receiver" class="table-of-contents__link">Listening for events with a receiver</a></li><li><a href="#manual-tracking" class="table-of-contents__link">Manual tracking</a></li><li><a href="#identify-user" class="table-of-contents__link">Identify user</a></li><li><a href="#debug-logging" class="table-of-contents__link">Debug logging</a></li><li><a href="#other-apis" class="table-of-contents__link">Other APIs</a><ul><li><a href="#beacons" class="table-of-contents__link">Beacons</a></li><li><a href="#get-location" class="table-of-contents__link">Get location</a></li><li><a href="#context" class="table-of-contents__link">Context</a></li><li><a href="#geocoding" class="table-of-contents__link">Geocoding</a></li><li><a href="#search" class="table-of-contents__link">Search</a></li><li><a href="#distance" class="table-of-contents__link">Distance</a></li><li><a href="#matrix" class="table-of-contents__link">Matrix</a></li><li><a href="#conversions" class="table-of-contents__link">Conversions</a></li></ul></li><li><a href="#notifications" class="table-of-contents__link">Notifications</a></li><li><a href="#huawei" class="table-of-contents__link">Huawei</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.05ba97a2.js"></script>
<script src="/assets/js/main.31404854.js"></script>
</body>
</html>